!function(e){var t={id:"48ac5820",exports:{}};e.__modules__||(e.__modules__={});!function(){jQuery.cookie=function(e,t,n){if("undefined"==typeof t){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),a=0;a<r.length;a++){var o=jQuery.trim(r[a]);if(o.substring(0,e.length+1)==e+"="){i=decodeURIComponent(o.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n=$.extend({},n),n.expires=-1);var s="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var l;"number"==typeof n.expires?(l=new Date,l.setTime(l.getTime()+24*n.expires*60*60*1e3)):l=n.expires,s="; expires="+l.toUTCString()}var u=n.path?"; path="+n.path:"",c=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,u,c,d].join("")}}(t.exports,t,e);e.__modules__["48ac5820"]=t.exports}(this),function(e){var t={id:"48ac5821",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){(function(){var n=this,i=n._,r={},a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,u=a.slice,c=a.concat,d=o.toString,h=o.hasOwnProperty,f=a.forEach,g=a.map,p=a.reduce,_=a.reduceRight,m=a.filter,v=a.every,x=a.some,y=a.indexOf,w=a.lastIndexOf,b=Array.isArray,F=Object.keys,S=s.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k):n._=k,k.VERSION="1.6.0";var T=k.each=k.forEach=function(e,t,n){if(null==e)return e;if(f&&e.forEach===f)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var o=k.keys(e),i=0,a=o.length;a>i;i++)if(t.call(n,e[o[i]],o[i],e)===r)return;return e};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:g&&e.map===g?e.map(t,n):(T(e,function(e,r,a){i.push(t.call(n,e,r,a))}),i)};var P="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,a,o){r?n=t.call(i,n,e,a,o):(n=e,r=!0)}),!r)throw new TypeError(P);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),_&&e.reduceRight===_)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=k.keys(e);a=o.length}if(T(e,function(s,l,u){l=o?o[--a]:--a,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(P);return n},k.find=k.detect=function(e,t,n){var i;return $(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(T(e,function(e,r,a){t.call(n,e,r,a)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,n){t||(t=k.identity);var i=!0;return null==e?i:v&&e.every===v?e.every(t,n):(T(e,function(e,a,o){return(i=i&&t.call(n,e,a,o))?void 0:r}),!!i)};var $=k.some=k.any=function(e,t,n){t||(t=k.identity);var i=!1;return null==e?i:x&&e.some===x?e.some(t,n):(T(e,function(e,a,o){return i||(i=t.call(n,e,a,o))?r:void 0}),!!i)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):$(e,function(e){return e===t})},k.invoke=function(e,t){var n=u.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matches(t))},k.findWhere=function(e,t){return k.find(e,k.matches(t))},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return T(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;s>r&&(i=e,r=s)}),i},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return T(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;r>s&&(i=e,r=s)}),i},k.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))};var C=function(e){return null==e?k.identity:k.isFunction(e)?e:k.property(e)};k.sortBy=function(e,t,n){return t=C(t),k.pluck(k.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,i){var r={};return n=C(n),T(t,function(a,o){var s=n.call(i,a,o,t);e(r,s,a)}),r}};k.groupBy=A(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]}),k.indexBy=A(function(e,t,n){e[t]=n}),k.countBy=A(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=C(n);for(var r=n.call(i,t),a=0,o=e.length;o>a;){var s=a+o>>>1;n.call(i,e[s])<r?a=s+1:o=s}return a},k.toArray=function(e){return e?k.isArray(e)?u.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:u.call(e,0,t)},k.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var I=function(e,t,n){return t&&k.every(e,k.isArray)?c.apply(n,e):(T(e,function(e){k.isArray(e)||k.isArguments(e)?t?l.apply(n,e):I(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return I(e,t,[])},k.without=function(e){return k.difference(e,u.call(arguments,1))},k.partition=function(e,t){var n=[],i=[];return T(e,function(e){(t(e)?n:i).push(e)}),[n,i]},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,a=[],o=[];return T(r,function(n,i){(t?i&&o[o.length-1]===n:k.contains(o,n))||(o.push(n),a.push(e[i]))}),a},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=u.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})},k.difference=function(e){var t=c.apply(a,u.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(w&&e.lastIndexOf===w)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var L=function(){};k.bind=function(e,t){var n,i;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(u.call(arguments)));L.prototype=e.prototype;var r=new L;L.prototype=null;var a=e.apply(r,n.concat(u.call(arguments)));return Object(a)===a?a:r}},k.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,a=i.length;a>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},k.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(u.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:k.now(),o=null,a=e.apply(i,r),i=r=null};return function(){var u=k.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return i=this,r=arguments,0>=c?(clearTimeout(o),o=null,s=u,a=e.apply(i,r),i=r=null):o||n.trailing===!1||(o=setTimeout(l,c)),a}},k.debounce=function(e,t,n){var i,r,a,o,s,l=function(){var u=k.now()-o;t>u?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(a,r),a=r=null))};return function(){a=this,r=arguments,o=k.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(a,r),a=r=null),s}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return k.partial(t,e)},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=function(e){if(!k.isObject(e))return[];if(F)return F(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=c.apply(a,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=c.apply(a,u.call(arguments,1));for(var i in e)k.contains(n,i)||(t[i]=e[i]);return t},k.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=d.call(e);if(r!=d.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=D(e[l],t[l],n,i)););}else{for(var c in e)if(k.has(e,c)&&(l++,!(u=k.has(t,c)&&D(e[c],t[c],n,i))))break;if(u){for(c in t)if(k.has(t,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return D(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=b||function(e){return"[object Array]"==d.call(e)},k.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return h.call(e,t)},k.noConflict=function(){return n._=i,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.property=function(e){return function(t){return t[e]}},k.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=k.invert(E.escape);var B={escape:new RegExp("["+k.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(E.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(B[e],function(t){return E[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){T(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),G.call(this,n.apply(k,e))}})};var M=0;k.uniqueId=function(e){var t=++M+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,i,r,s){return o+=e.slice(a,s).replace(O,function(e){return"\\"+N[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},k.chain=function(e){return k(e).chain()};var G=function(e){return this._chain?k(e).chain():e};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],G.call(this,n)}}),T(["concat","join","slice"],function(e){var t=a[e];k.prototype[e]=function(){return G.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k}),window._=k}).call(this)}(t.exports,t,e);e.__modules__["48ac5821"]=t.exports}(this),function(e){var t={id:"48ac5822",exports:{}};e.__modules__||(e.__modules__={});!function(){Handlebars.registerHelper("range",function(e,t){for(var n="",i=0;e>i;i++)n+=t.fn();return n}),Handlebars.registerHelper("equal",function(e,t,n){return e==t?n.fn(this):n.inverse(this)})}(t.exports,t,e);e.__modules__["48ac5822"]=t.exports}(this),function(e){var t={id:"48ac5823",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){var i=function(e,t){var n,i=this;n=e&&_.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},_.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&_.extend(n.prototype,e),_.extend(n.prototype,{"super":i.prototype}),n},r=function(e){e||(e={});var t={},n={},i=this.super,r={},a={};for("page4"==e.ftype;i;)_.extend(n,i.config),_.extend(a,i.listeners),i=i.super;_.extend(t,n,this.config),_.extend(r,a,this.listeners,e.listeners);var o=_.keys(t);t=_.defaults(_.pick(e,o),t),e=_.omit(e,o),e.config=t,e.listeners=r,this.options=e,this.initial.call(this,e)};_.extend(r.prototype,{fid:0,config:{},events:{},listeners:{},initial:function(){},set:function(e,t){if(_.isObject(e)&&!t)for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n]);else if(_.isString(e)){var i,r,a=_.result(this.options,"config");"undefined"!=typeof a[e]&&(_.isFunction(t)&&(t=t.call(null)),r=a[e],this.options.config[e]=t,i=this.options.listeners[e+"Changed"]||this.events[e+"changed"],_.isFunction(i)&&!1===i.apply(this,[t,r])&&(this.options.config[e]=r))}},get:function(e){var t=this.options.config[e];_.isFunction(t)&&(t=t.call(this));var n=this.options.listeners[e+"Get"];return _.isFunction(n)?n.call(this,t):t},trigger:function(e,t){e=this.options.listeners[e],_.isArray(t)||(t=[t]),_.isFunction(e)&&e.apply(this,t)}}),r.extend=i,t.exports=n.F=n.FClass=r}(t.exports,t,e);e.__modules__["48ac5823"]=t.exports}(this),function(e){var t={id:"48ac5824",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){var n=/^(\S+)\s*(.*)$/,i=window.Fui=t.exports=FClass.extend({el:null,$el:null,tagName:"div",config:null,model:null,collection:null,attributes:null,css:null,className:null,events:{},initialize:function(){},initial:function(e){this.cid=_.uniqueId("fui"),_.extend(this.events,e.events||{}),_.extend(this,_.omit(e,["events"])),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},render:function(){},callParent:function(e){_.isString(e)||(e="render");var t=this.super[e];return _.isFunction(t)&&(t=t.call(this)),t},show:function(){this.$el.show()},hide:function(){this.$el.hide()},refresh:null,remove:function(){return this.$el.remove(),this.stopListening(),this.onRemove(),this},onRemove:function(){},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},delegateEvents:function(e){if(!e&&!(e=_.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(_.isFunction(i)||(i=this[e[t]]),i){var r=t.match(n),a=r[1],o=r[2];i=_.bind(i,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,i):this.$el.on(a,o,i)}}return this},setElement:function(e,t){this.$el&&this.undelegateEvents(),this.$el=e instanceof $?e:$(e),this.el=this.$el[0];var n=_.extend({},_.result(this,"attributes")),i=_.extend({},_.result(this,"css"));this.id&&(n.id=_.result(this,"id"));var r=_.result(this,"className");return _.isFunction(r)&&(r=r.apply(this)),_.isArray(r)&&(r=r.join(" ")),this.$el.attr(n).css(i).addClass(r),t!==!1&&this.delegateEvents(),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var e=$("<"+_.result(this,"tagName")+">");this.$el&&(e=this.$el[0]),this.setElement(e,!1)}},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,n,this),(r||_.isEmpty(e._events))&&delete this._listeningTo[a];return this}},{emptyFunc:function(){},deviceType:function(){var e=this.WIN_W;return 640>e?1:960>e?2:1280>e?3:4},getLocationParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},isM:function(){return 1==this.deviceType()},WIN_W:$(window).width(),WIN_H:$(window).height(),SCROLL_TOP:function(){return $(document).scrollTop()},Msg:function(e,t){t=t||"info",console.log("["+t+"] "+e)}});i.View=i.extend()}(t.exports,t,e);e.__modules__["48ac5824"]=t.exports}(this),function(e){var t={id:"48ac5825",exports:{}};e.__modules__||(e.__modules__={});!function(){var e={ua:navigator.userAgent,andrioid_version:100,isAndroid:!1,init:function(){this.OS=this.searchString(this.dataOS())||"an unknown OS",this.Browser=this.searchBrowser(this.dataB()),this.mobile="iPhone"==this.OS||"iPad"==this.OS||"Android"==this.OS||"Winphone"==this.OS?!0:!1,/Android (\d+\.\d+)/.test(navigator.userAgent)&&(this.andrioid_version=RegExp.$1,this.isAndroid=!0)},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;if(n&&-1!=n.indexOf(e[t].forSearch))return e[t].forShow}},searchBrowser:function(e){for(var t="",n=0;n<e.length;n++){var i=e[n].string;i&&-1!=i.indexOf(e[n].forSearch)&&(t+=e[n].forShow+"|")}return t},dataOS:function(){return[{string:navigator.platform,forSearch:"Win",forShow:"Windows"},{string:navigator.platform,forSearch:"Mac",forShow:"Mac"},{string:this.ua,forSearch:"iPhone",forShow:"iPhone"},{string:this.ua,forSearch:"iPad",forShow:"iPad"},{string:this.ua,forSearch:"Android",forShow:"Android"},{string:this.ua,forSearch:"Windows Phone",forShow:"Winphone"}]},dataB:function(){return[{string:this.ua,forSearch:"360browser",forShow:"360"},{string:this.ua,forSearch:"Maxthon",forShow:"Maxthon"},{string:this.ua,forSearch:"UCBrowser",forShow:"uc"},{string:this.ua,forSearch:"Oupeng",forShow:"opera"},{string:this.ua,forSearch:"Opera",forShow:"opera"},{string:this.ua,forSearch:"Sogou",forShow:"sogou"},{string:this.ua,forSearch:"baidu",forShow:"baidu"},{string:this.ua,forSearch:"Safari",forShow:"safari"},{string:this.ua,forSearch:"MicroMessenger",forShow:"weixin"},{string:this.ua,forSearch:"QQ/",forShow:"qq"},{string:this.ua,forSearch:"Weibo",forShow:"weibo"},{string:this.ua,forSearch:"MQBrowser",forShow:"360"},{string:this.ua,forSearch:"MQQBrowser",forShow:"qqbrowser"},{string:this.ua,forSearch:"CriOS",forShow:"Maxthon"}]}};e.init(),Fui.client=e}(t.exports,t,e);e.__modules__["48ac5825"]=t.exports}(this),function(e){var t={id:"48ac5826",exports:{}};e.__modules__||(e.__modules__={});!function(){var e=Fui.Event=function(e){this.options=_.defaults(e,{draggable:!1,pinch:!1}),this.easingX=new Fui.Easing,this.easingY=new Fui.Easing,this.bindEvents()};e.prototype={_event_start:!1,_event_start_p:{x:0,y:0,ts:0},_event_cur_p:{x:0,y:0,ts:0},_event_cur_dis:{x:0,y:0},_event_del_p:{x:0,y:0,ts:0},_event_cur_speed:{x:0,y:0},_draggable:{},_pinch:{},gesture:null,startGesture:null,max:{x:0,y:0},min:{x:0,y:0},unbindEvents:function(){var e=this.options.hoster;e.$el.undelegate("."+e.cid),delete this},getAngle:function(e,t){var n=180*Math.atan(Math.abs(t/e))/Math.PI;return 0>e&&(n=180-n),t>0&&(n=-n),n},getCurAngle:function(){var e,t=this,n=t._event_del_p;return e=180*Math.atan(-n.y/n.x)/Math.PI,n.x<0&&(e+=90),e},trans:function(e,t){var n,i,r=t.transform||{},a=t.transition||"none";if(r.translate3d){var o=n=r.translate3d;r.translate3d.x=o.x||0,r.translate3d.y=o.y||0,r.translate3d.z=o.z||0,/\%$/.test(n.x)||(n.x=parseInt(n.x)+"px"),/\%$/.test(n.y)||(n.y=parseInt(n.y)+"px"),/\%$/.test(n.z)||(n.z=parseInt(n.z)+"px")}else r.translate3d={x:0,y:0,z:0};r.scale?i=r.scale:r.scale=i=1;var s="translate3d("+n.x+","+n.y+","+n.z+") scale("+i+")";e.css({webkitTransform:s,webkitTransition:a})},getDisTwoPoint:function(e){if(2!=e.length)return 0;var t={x:e[0].clientX,y:e[0].clientY},n={x:e[1].clientX,y:e[1].clientY},i=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),r={x:t.x+n.x>>1,y:t.y+n.y>>1};return{dis:i,p:r}},getTrans:function(e){var t=getComputedStyle(e[0],null).webkitTransform;if(!/^matrix/.test(t))return 0;var n=/matrix\(([\d\,\.\-\s]*)\)/g.exec(t)[1];return n=n.split(","),{x:n[4]<<0,y:n[5]<<0}},checkOrientGesture:function(e){return"x"==e&&/^left|right/.test(this.startGesture)||"y"==e&&/^up|down/.test(this.startGesture)},stopPropagation:function(){this.$e.stopPropagation()},preventDefault:function(){this.$e.preventDefault()},bindEvents:function(){function e(){s._event_cur_speed={x:0,y:0},s._event_cur_dis={x:0,y:0}}function t(t){s.$e=t;var n=t.originalEvent.touches?t.originalEvent.touches[0]:t.originalEvent;s._event_start=!0,d=s._event_start_p=s._event_cur_p=g=f={x:n.clientX,y:n.clientY,ts:Date.now()},e(),p=!0,s.gesture=null,s.startGesture=null,!0===s.options.draggable&&(t.stopPropagation(),t.preventDefault(),s._draggable.startTrans=s.getTrans(l.$target)),_.isFunction(l._onstart)&&l._onstart(t),l.trigger("touchstart",[s])}function n(e){s.$e=e;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;p&&(m=!0),h=s._event_cur_p={x:t.clientX,y:t.clientY,ts:Date.now()},g=f,f=h;var n=s._event_cur_dis={x:h.x-d.x,y:h.y-d.y};if(null==s.startGesture&&(Math.abs(n.x)>10||Math.abs(n.y)>10)){var i=s.getAngle(n.x,n.y),u=s._event_cur_speed;Math.abs(i)<=30||Math.abs(i)>=150?(u.x>0&&(s.startGesture="rightSwipe"),u.x<0&&(s.startGesture="leftSwipe")):(u.y>0&&(s.startGesture="downSwipe"),u.y<0&&(s.startGesture="upSwipe"))}f.ts-g.ts>5&&(r=f.x-g.x,a=f.y-g.y,o=f.ts-g.ts,s._event_del_p={x:r,y:a,ts:o},s._event_cur_speed={x:r/o,y:a/o},_.isFunction(l._onmove)&&l._onmove(e),l.trigger("touchmove",[s]));var c={x:0,y:0},v=1;!0===s.options.draggable&&(c={x:s._draggable.startTrans.x,y:n.y+s._draggable.startTrans.y}),(!0===s.options.draggable||!0===s.options.pinch)&&(e.stopPropagation(),e.preventDefault(),s.trans(l.$target,{transform:{translate3d:c,scale:v}}))}function i(t){s.$e=t;var n=s._event_cur_dis.x,i=s._event_cur_dis.y,r=(s.gesture,$(t.target)),a=u.height(),o=u.width();if(Math.abs(n)>10||Math.abs(i)>10){var c=s.getAngle(n,i),d=s._event_cur_speed;Math.abs(c)<=30||Math.abs(c)>=150?(Math.abs(d.x)>.5||Math.abs(n)>o/2)&&(d.x>0&&(s.gesture="rightSwipe"),d.x<0&&(s.gesture="leftSwipe")):(Math.abs(d.y)>.5||Math.abs(i)>a/2)&&(d.y>0&&(s.gesture="downSwipe"),d.y<0&&(s.gesture="upSwipe"))}else{s.gesture="tap";var h=t.target.tagName.toLowerCase();("input"==h||"a"==h)&&p&&!m&&(t.target.focus(),t.target.click())}_.isFunction(l.onGesture)&&l.onGesture(s.gesture,r,s),_.isFunction(l._ontap)&&l._ontap(t),_.isFunction(l._onend)&&l._onend(t),l.trigger("touchend",[s]),l.trigger("gesture",[s,s.gesture,r]),p=!1,m=!1,e()}var r,a,o,s=this,l=this.options.hoster,u=l.$el,c=l.cid,d={x:0,y:0},h={x:0,y:0},f={x:0,y:0},g={x:0,y:0},p=!1,m=!1,v=!1;u.on("touchstart."+c,t).on("touchmove."+c,n).on("touchend."+c,i).on("mousedown."+c,function(e){v=!0,t(e)}).on("mousemove."+c,function(e){v&&n(e)}).on("mouseup."+c,function(e){v&&(i(e),v=!1)}).on("mouseout."+c,function(e){v&&(i(e),v=!1)})}}}(t.exports,t,e);e.__modules__["48ac5826"]=t.exports}(this),function(e){var t={id:"48ac5827",exports:{}};e.__modules__||(e.__modules__={});!function(){!function(){var e,t,n=0,i=["ms","moz","webkit","o"],r=i.length;for(e=0;r>e&&!window.requestAnimationFrame;++e)t=i[e],window.requestAnimationFrame=window[t+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];Fui.performance={},Fui.performance.now=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},window.requestAnimationFrame=function(e,t){var i=Date.now(),r=Math.max(0,16-(i-n)),a=window.setTimeout(function(){e.call(t)},0);return n=i+r,a},window.requestAnimationFrame&&(Fui.trueRequestAnimationFrames=!0),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Fui.AnimationQueue=FClass.extend({config:{queue:[],status:"stop",ts:0},push:function(){this.get("queue").push(arguments)},start:function(){this.set("status","start"),this.clear(),this.set("ts",Date.now()),this.doStart()},run:function(){var e=this,t=this.get("queue").shift();t&&(t[0].apply(t[1],t[2]),e.set("ts",Date.now())),e.doIterator()},doIterator:function(){this.animationId=requestAnimationFrame(this.run,this)},doStart:function(){this.animationId=requestAnimationFrame(this.run,this)},stop:function(){cancelAnimationFrame(this.animationId)},clear:function(){this.get("queue").length=0}})}(t.exports,t,e);e.__modules__["48ac5827"]=t.exports}(this),function(e){var t={id:"48ac5828",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Easing=FClass.extend({getTrans:function(e){var t=getComputedStyle(e[0],null).webkitTransform;if(!/^matrix/.test(t))return 0;var n=/matrix\(([\d\,\.\-\s]*)\)/g.exec(t)[1];return n=n.split(","),{x:n[4]<<0,y:n[5]<<0}},init:function(e,t,n){var i=n.$ele;if(this.friction=.5,this.acceleration=30,this.theta=Math.log(1-this.friction/10),this.alpha=this.theta/this.acceleration,e&&(this.startTime=Date.now(),this.startSpeed=e._event_cur_speed[t]*this.acceleration,this.startPos=this.getTrans(i)[t],this.maxV=n.max[t],this.minV=n.min[t]),this.outBound=this.startPos>this.maxV||this.startPos<this.minV,this.ended=!1,this.bounceBack=!1,this.lastValue=null,this.bounceInitValue="undefined"==typeof this.bounceInitValue?0:this.bounceInitValue,this.outBound){var r=null;this.startPos>this.maxV&&(r="max"),this.startPos<this.minV&&(r="min"),this.setBounce(Date.now(),("max"==r?this.maxV:this.minV)+this.bounceInitValue,0,!0)}},getValue:function(){var e=this.startSpeed,t=Math.exp((Date.now()-this.startTime)*this.alpha),n=this.startPos-e*(1-t)/this.theta,i=t*e;if(0==e)return this.ended=!0,this.startPos;if(this.direction=e>0?1:-1,!this.outBound){if(Math.abs(i)<1&&(this.ended=!0),n<=this.maxV&&n>=this.minV)return n;this.outBound=!0,this.setBounce(Date.now(),i>0?this.maxV:this.minV,i)}if(n=Math.round(this.getBounceValue()),!this.ended)if(this.bounceBack){if(Math.round(n)==this.bounceStartValue)return this.ended=!0,n}else null!=this.lastValue&&(1==this.direction&&n<this.lastValue||-1==this.direction&&n>this.lastValue)&&(this.bounceBack=!0);return this.lastValue=n,n},setBounce:function(e,t,n,i){this.bounceStartTime=e,this.bounceStartValue=t,this.bounceStartVelocity=n,this.bounceBack=!1,this.bounceTT=i},getBounceValue:function(){if(!this.bounceTT){var e=Date.now()-this.bounceStartTime,t=e/30,n=t*Math.pow(Math.E,-.3*t);return this.bounceStartValue+this.bounceStartVelocity*n}if(this.bounceTT){var i=1.2*(Date.now()-this.startTime)/300;return i>=1&&(i=1),this.startPos+(this.bounceStartValue-this.startPos)*i}}})}(t.exports,t,e);e.__modules__["48ac5828"]=t.exports}(this),function(e){var t={id:"48ac5829",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.ScrollBar=Fui.extend({className:function(){return["fui-scrollbar","fui-scrollbar-"+this.get("orient")]},config:{orient:"y"},initialize:function(){var e=this,t=e.$el;t.append('<div class="fui-scrollbar-inner"></div>')}}),Fui.Scrollable=Fui.extend({config:{orient:"y"},touched:!1,_pre_dis:0,initialize:function(e){{var t=this,n=t.get("orient"),i=t.$el=e.$el,r=t.$ele=i.children().first();t.event=new Fui.Event({hoster:t}),t.aq=new Fui.AnimationQueue({})}i.css({position:"relative"}).addClass("fui-scrollable"),t._doTrans(r,0,!1);var a=null,o=null;"y"!=n&&(a=new Fui.ScrollBar({orient:"x"}),i.append(a.$el)),"x"!=n&&(o=new Fui.ScrollBar({orient:"y"}),i.append(o.$el))},scrollingFn:function(e){this._doTrans(this.$ele,this._pre_dis+e._event_cur_dis[this.get("orient")],!1)},_doTrans:function(e,t,n){function i(e){return/^[\+|\-]{1}$/.test(e)?e=parseInt(e+a.pageSize[r])+"px":/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==r?e:"0px"),"y"==r?e:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),a=this;"undefined"==typeof n&&(n=!0),e&&1==e.length&&e.css({display:"block",zoom:1,webkitTransform:i(t),webkitTransition:n?"-webkit-transform .4s":"none"})},requestAniFrame:function(e){var t={x:0,y:0};"y"!=this.orient?t.x=e.easingX.getValue():e.easingX.ended=!0,"x"!=this.orient?t.y=e.easingY.getValue():e.easingY.ended=!0,this._doTrans(this.$ele,t[this.get("orient")],!1)},easing:function(e){e.easingX.init(e,"x",this),e.easingY.init(e,"y",this);var t=this,n=requestAnimationFrame(function(){cancelAnimationFrame(n),t.touched||(t.aq.push(t.requestAniFrame,t,[e]),e.easingX.ended&&e.easingY.ended||(n=requestAnimationFrame(arguments.callee)))})},listeners:{touchstart:function(e){var t=this;this.touched=!0,t.max={x:0,y:0},t.min={x:0,y:t.$el.height()-t.$ele.height()},this._pre_dis=e.getTrans(this.$ele)[this.get("orient")],this.aq.start()},touchmove:function(e){e.checkOrientGesture(this.get("orient"))&&this.aq.push(this.scrollingFn,this,[e])
},touchend:function(e){this.touched=!1,e.checkOrientGesture(this.get("orient"))&&this.easing(e)}}})}(t.exports,t,e);e.__modules__["48ac5829"]=t.exports}(this),function(e){var t={id:"48ac582a",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Draggable=Fui.extend({config:{$target:null},initialize:function(){var e=this;e.event=new Fui.Event({hoster:e}),e.$target=e.get("$target"),e.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(e.$target)},startTrans:{x:0,y:0},listeners:{touchstart:function(e){e.stopPropagation(),e.preventDefault();{var t=this;t.$el}t.startTrans=e.getTrans(t.$target)},touchmove:function(e){e.stopPropagation(),e.preventDefault();var t=this,n=e._event_cur_dis,i=t.startTrans;t.trigger("translate",[e,{x:i.x+n.x,y:i.y+n.y}])},touchend:function(e){e.stopPropagation(),e.preventDefault()}}})}(t.exports,t,e);e.__modules__["48ac582a"]=t.exports}(this),function(e){var t={id:"48ac582b",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Pinch=Fui.extend({config:{$target:null,initScale:1},initialize:function(){var e=this;e.event=new Fui.Event({hoster:e}),e.$target=e.get("$target"),e.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(e.$target)},startTrans:{x:0,y:0},getDis:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},listeners:{pinch:null,touchstart:function(e){e.stopPropagation(),e.preventDefault();var t=this,n=(t.$el,e.$e.originalEvent.touches);if(2==n.length){var i=n[0],r=n[1];t.start_dis=t.getDis({x:i.clientX,y:i.clientY},{x:r.clientX,y:r.clientY})}},touchmove:function(e){e.stopPropagation(),e.preventDefault();var t=this,n=e.$e.originalEvent.touches;if(2==n.length){var i=n[0],r=n[1],a=t.cur_dis=t.getDis({x:i.clientX,y:i.clientY},{x:r.clientX,y:r.clientY});t.trigger("pinch",[e,a/t.start_dis])}},touchend:function(e){e.stopPropagation(),e.preventDefault()}}})}(t.exports,t,e);e.__modules__["48ac582b"]=t.exports}(this),function(e){var t={id:"48ac582c",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac5820"],n.__modules__["48ac5821"],n.__modules__["48ac5822"],n.__modules__["48ac5823"],n.__modules__["48ac5824"],n.__modules__["48ac5825"],n.__modules__["48ac5826"],n.__modules__["48ac5827"],n.__modules__["48ac5828"],n.__modules__["48ac5829"],n.__modules__["48ac582a"],n.__modules__["48ac582b"]}(t.exports,t,e);e.__modules__["48ac582c"]=t.exports}(this),function(e){var t={id:"48ac582d",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Button=Fui.extend({tagName:"button",config:{type:"default",text:"button",action:null,size:null},initialize:function(){this.render()},attributes:{type:"button"},className:function(){this.get("size");return["btn",this.getCls(this.get("type")),this.getCls(this.get("size"))]},getCls:function(e){return e?"btn-"+e:""},render:function(){this.$el.text(this.get("text"))},onClick:Fui.emptyFunc,listeners:{tap:null},events:{click:function(e){this.trigger("tap",[e]),e.stopPropagation()},typechanged:function(e,t){this.$el.removeClass(this.getCls(t)),this.$el.addClass(this.className())},textchanged:function(e){this.$el.text(e)}}})}(t.exports,t,e);e.__modules__["48ac582d"]=t.exports}(this),function(e){var t={id:"48ac582d",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Button=Fui.extend({tagName:"button",config:{type:"default",text:"button",action:null,size:null},initialize:function(){this.render()},attributes:{type:"button"},className:function(){this.get("size");return["btn",this.getCls(this.get("type")),this.getCls(this.get("size"))]},getCls:function(e){return e?"btn-"+e:""},render:function(){this.$el.text(this.get("text"))},onClick:Fui.emptyFunc,listeners:{tap:null},events:{click:function(e){this.trigger("tap",[e]),e.stopPropagation()},typechanged:function(e,t){this.$el.removeClass(this.getCls(t)),this.$el.addClass(this.className())},textchanged:function(e){this.$el.text(e)}}})}(t.exports,t,e);e.__modules__["48ac582d"]=t.exports}(this),function(e){var t={id:"48ac582e",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<h3 class="fui-form-title">{{title}}</h3><ul class="fui-form-ele-list" data-fui-key="ele-list">    {{#range lines}}    <li class="fui-form-line"></li>    {{/range}}</ul>'}(t.exports,t,e);e.__modules__["48ac582e"]=t.exports}(this),function(e){var t={id:"48ac582f",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form=Fui.extend({className:function(){return["fui-form","fui-form-"+this.get("size")]},config:{title:"Form",size:"normal",width:null,tpl:n.__modules__["48ac582e"],grid:1,actions:null,items:[]},listeners:{submit:null},itemsMap:{},initialize:function(e){this.options=e,this.render()},setData:function(e,t){var n=this,i=this.get("items");_.isObject(e)&&"undefined"==typeof t?_.each(e,function(e,t){n.setData(t,e)}):_.each(i,function(n){n.get("name")==e&&n.set("value",t)})},getData:function(){var e=this.get("items"),t={};return _.each(e,function(e){if(_.isFunction(e.getData)){var n=e.getData();n&&(t[n.name]=n.value)}}),t},upload:function(e){var t=this,n=t.get("items"),i=0,r=0;_.each(n,function(e){e.upload&&i++}),console.log("form",t.get("title"),"has",i,"items upload ..."),_.each(n,function(t){t.upload&&t.upload(function(t,n){return t?void(++r==i&&(console.log("item upload: ",n.get("label"),t),e(!0))):e(!1)})})},getItem:function(e){for(var t=this,n=t.get("items"),i=0,r=n.length;r>i;i++)if(e==n[i].get("name"))return n[i]},validate:function(e){function t(t){t&&r++,++a==o&&e(r==o)}var n=this,i=n.get("items"),r=0,a=0,o=i.length;_.each(i,function(e){_.isFunction(e.validate)?e.validate(t):e.noValidate?t(!0):console.log("FormItem has no validate :",e)})},_submit:function(){var e=this;this.validate(function(t){t?e.trigger("submit",[e.getData()]):0})},render:function(){var e=this,t=e.$el,n=e.get("items"),i=e.get("width"),r=Handlebars.compile(e.get("tpl"));if(!_.isArray(n))return error("Form need an array[Form.Element] for items");isNaN(i)||t.css("width",i);var a=0,o=e.get("grid");_.each(n,function(e){isNaN(e.grid)&&(e.grid=o),a+=e.grid}),t.html(r({title:e.get("title"),lines:Math.floor(a/o)})),a=0;var s=t.find("[data-fui-key=ele-list]"),l=s.children("li");_.each(n,function(t,i){var r=t.type;switch(t.type){case"Submit":t.listeners={tap:function(){e._submit()}};break;case"Cancel":t.listeners={tap:function(){e.trigger("cancel")}}}isNaN(t.grid)&&(t.grid=o);var s=Fui.Form[r],u=null;delete t.type,_.isFunction(s)&&(u=new s(t),n.splice(i,1,u),l.eq(Math.floor(a)).append(u.$el),a+=t.grid,t.grid<o&&u.$el.addClass("inline").css({width:100*t.grid/o+"%"}))})},events:{click:function(e){e.stopPropagation()}}})}(t.exports,t,e);e.__modules__["48ac582f"]=t.exports}(this),function(e){var t={id:"48ac5830",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Element=Fui.extend({className:"fui-form-ele",config:{name:null,value:null,label:null,withErrMsg:!1,grid:0},initialize:function(){},getData:function(){return null},validate:function(e){e(!0)}})}(t.exports,t,e);e.__modules__["48ac5830"]=t.exports}(this),function(e){var t={id:"48ac5831",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-text">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <label class="fui-form-field">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{else}}                <span class="input-icon-null"></span>                {{/if}}                <span class="input-wrapper">                    <input type="{{type}}" placeholder="{{placeHolder}}"/>                </span>                <span class="fui-form-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac5831"]=t.exports}(this),function(e){var t={id:"48ac5832",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Text=Fui.Form.Element.extend({config:{type:"text",label:null,icon:null,textAlign:"left",fieldLabel:null,tpl:n.__modules__["48ac5831"],placeHolder:"",value:null,focusCls:"focus"},initialize:function(){var e=this,t=e.get("label"),n=e.get("placeHolder"),i=Handlebars.compile(e.get("tpl"));e.$el.html(i({type:e.get("type"),label:t,icon:e.get("icon"),placeHolder:n,fieldLabel:e.get("fieldLabel")}));var r=e.$input=e.$el.find("input");r.css({textAlign:e.get("textAlign")}),e.$field=e.$el.find(".fui-form-field"),e.$err_msg=e.$el.find(".fui-form-ele-error-msg");var a=e.get("value");null!=a&&"undefined"!=typeof a&&r.val(a),_.isFunction(this.render)&&this.render()},setErrorMsg:function(e){e?(this.$field.addClass("error"),this.$err_msg.text(e)):(this.$field.removeClass("error"),this.$err_msg.text(""))},listeners:{valueChanged:function(e){this.$input.val(e),this.trigger("change",[e])},change:null},events:{"focus input":function(){this.$field.addClass(this.get("focusCls"))},"blur input":function(){var e=this;this.set("value",this.$input.val()),this.$field.removeClass(this.get("focusCls")),this.validate(function(t,n){t?(e.$field.removeClass("error"),e.$err_msg.text("")):(e.$field.addClass("error"),e.$err_msg.text(n))})}},getData:function(){return{name:this.get("name"),value:this.get("value")}}})}(t.exports,t,e);e.__modules__["48ac5832"]=t.exports}(this),function(e){var t={id:"48ac5833",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-textarea">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <label class="fui-form-field">                <span class="input-wrapper">                    <textarea>{{text}}</textarea>                </span>                <span class="fui-form-field-label"></span>            </label>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac5833"]=t.exports}(this),function(e){var t={id:"48ac5834",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.TextArea=Fui.Form.Element.extend({initialize:function(){var e=this,t=n.__modules__["48ac5833"];e.$el.html(Handlebars.compile(t)({label:e.get("label"),text:e.get("value")})),e.$field=e.$el.find(".fui-form-field"),e.$input=e.$el.find("textarea")},getData:function(){return{name:this.get("name"),value:this.get("value")}},listeners:{valueChanged:function(e){this.$input.val(e)},change:null},events:{"focus textarea":function(){this.$field.addClass("focus")},"blur textarea":function(){this.set("value",this.$input.val()),this.$field.removeClass("focus")},"input textarea":function(){this.trigger("change",[this.$input.val()])}}})}(t.exports,t,e);e.__modules__["48ac5834"]=t.exports}(this),function(e){var t={id:"48ac5835",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Mail=Fui.Form.Text.extend({config:{icon:"mail2",placeHolder:"邮箱"},validateUsed:function(e){e(!0)},validate:function(e){/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(this.get("value"))?this.validateUsed(e):(this.setErrorMsg("邮箱格式不正确"),e(!1))}})}(t.exports,t,e);e.__modules__["48ac5835"]=t.exports}(this),function(e){var t={id:"48ac5836",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Password=Fui.Form.Text.extend({ftype:"Fui.Form.Password",config:{type:"password",placeHolder:"密码",icon:"key"},validate:function(e){var t=this.get("value"),n="";!t||t.length<6?(n="密码至少6位",e(!1)):e(!0),this.setErrorMsg(n)}})}(t.exports,t,e);e.__modules__["48ac5836"]=t.exports}(this),function(e){var t={id:"48ac5837",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Button=Fui.Button.extend({noValidate:!0,css:{marginBottom:20},config:{type:"primary"}})}(t.exports,t,e);e.__modules__["48ac5837"]=t.exports}(this),function(e){var t={id:"48ac5838",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Submit=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button ")},noValidate:!0,config:{type:"primary"}})}(t.exports,t,e);e.__modules__["48ac5838"]=t.exports}(this),function(e){var t={id:"48ac5839",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Cancel=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button")},noValidate:!0,config:{}})}(t.exports,t,e);e.__modules__["48ac5839"]=t.exports}(this),function(e){var t={id:"48ac583a",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-image-picker">    <!--<div class="left">-->        <!--<label>{{label}}</label>-->    <!--</div>-->    <!--<div class="right">-->        <!--<input type="file" accept="image/*"/>-->    <!--</div>-->    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->        <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <input type="file" accept="image/*"/>            <div class="img">            </div>            <!--<input type="text" style="display: none;"/>-->        </div>    </div>    <div class="fui-form-ele-description"></div>    {{#if withErrMsg}}    <div class="fui-form-ele-error-msg"></div>    {{/if}}</div>'}(t.exports,t,e);e.__modules__["48ac583a"]=t.exports}(this),function(e){var t={id:"48ac583b",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.ImagePicker=Fui.Form.Element.extend({config:{label:"Image Picker",file:null,tpl:n.__modules__["48ac583a"]},initialize1:function(){this.render()},initialize:function(){var e=this,t=e.get("label"),n=e.$el,i=Handlebars.compile(e.get("tpl"));e.$el.html(i({label:t,withErrMsg:e.get("withErrMsg")})),e.$desc=n.find(".fui-form-ele-description");var r=e.$right=e.$el.find(".right"),a=e.$input=e.$el.find("input[type=file]");e.$hidden=n.find("input[type=hidden]"),a.hide();var o=e.selBtn=new Fui.Button({type:"primary",size:"xs",text:"选择图片",listeners:{tap:function(){a[0].click()}}}),s=e.clearBtn=new Fui.Button({type:"default",size:"xs",text:"清除",listeners:{tap:function(){e.$input.val(""),e.set("value",null),this.hide(),o.set("text","选择图片"),e.$right.children(".img").empty(),e.trigger("clear")}}});s.hide(),r.append(o.$el),r.append(s.$el);var l=e.get("value");l&&setTimeout(function(){e.set("value",l)},10)},getData:function(){return{name:this.get("name"),value:this.get("value")}},upload:function(e){var t=this,n=t.get("file");return n?void new Fui.FileUpload({file:n,listeners:{end:function(n){console.log("upload ",t.get("name"),n," end"),t.set("value",n),e(!0,t)},error:function(){e(!1,t)}}}):e(!0,t)},setImg:function(e){var t=this;t.trigger("change",[e]);var n=new Image;n.src=e,n.onload=function(){t.selBtn.set({text:"重新选择"}),t.clearBtn.show(),console.log(e),t.$right.children(".img").empty().append(this)},n.onerror=function(){t.selBtn.set({text:"选择图片"}),t.clearBtn.hide()}},listeners:{valueChanged:function(e){this.set("file",null),this.setImg(e)},change:null,clear:null,focus:function(){this.$input[0].click()}},events:{"blur input[type=file]":function(){console.log(arguments)},"change input[type=file]":function(e){var t=this,n=e.target.files[0];if(n){var i=URL.createObjectURL(n),r=new Image;r.src=i,r.onload=function(){t.set("value",this.src),t.set("file",n)}}}}})}(t.exports,t,e);e.__modules__["48ac583b"]=t.exports}(this),function(e){var t={id:"48ac583c",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-image-list-picker">    <label class="fui-form-ele-label">{{label}}</label>    <div class="fui-form-ele-container">        <div class="right">            <div class="image-list"></div>            <input type="file" multiple="multiple" accept="image/png, image/jpeg" />            <div class="image-tools"></div>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac583c"]=t.exports}(this),function(e){var t={id:"48ac583d",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="item" data-form-image-list-item="{{index}}">    <div class="img">    </div></div>'}(t.exports,t,e);e.__modules__["48ac583d"]=t.exports}(this),function(e){var t={id:"48ac583e",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.ImageListPicker=Fui.Form.Element.extend({config:{label:"图片列表",listTpl:n.__modules__["48ac583c"],itemTpl:n.__modules__["48ac583d"]},index:0,filesMap:{},initialize:function(){{var e=this,t=e.$el,n=Handlebars.compile(e.get("listTpl"));e.itemTpl=Handlebars.compile(e.get("itemTpl"))}t.append(n({label:e.get("label")}));var i=(e.$imgList=t.find(".image-list"),e.$imgTools=t.find(".image-tools")),r=e.$input=t.find("input"),a=new Fui.Button({type:"primary",size:"xs",text:"添加图片",listeners:{tap:function(){setTimeout(function(){r[0].click()},100)}}});i.append(a.$el)},getData:function(){return{name:this.get("name"),value:this.getImgUrls()}},getImgUrls:function(){var e=this,t=this.$imgList.find(".item .img img"),n=[];return t.each(function(t,i){e.filesMap.hasOwnProperty(i.src)||n.push(i.src)}),n},upload:function(e){var t=this,n=t.filesMap,i=this.$imgList.find(".item .img img"),r=[];i.each(function(e,t){n.hasOwnProperty(t.src)&&n[t.src]instanceof File&&r.push(t)});var a=0;0==r.length&&e(!0,t),_.each(r,function(i,o){var s=n[i.src];if(s instanceof File){new Fui.FileUpload({file:s,name:i,listeners:{end:function(i,s){console.log("upload ",t.get("name"),i,o," end"),delete n[s.src],s.src=i,++a==r.length&&e(!0,t)},error:function(){console.error("image list picker upload error ..."),e(!1,t)}}})}})},addImage:function(e){var t=this,n=$(t.itemTpl({index:t.index++}));e.file&&(t.filesMap[e.src]=e.file),console.log(e),n.children(".img").append('<img src="'+e.src+'"/>');var i=t.clearBtn=new Fui.Button({type:"default",size:"xs",text:"清除",src:e.src,listeners:{tap:function(){this.$el.parent().remove(),delete t.filesMap[this.src]}}});n.append(i.$el),t.$imgList.append(n)},listeners:{change:null,valueChanged:function(e){var t=this;_.isArray(e)||(e=[e]),_.each(e,function(e){var n=new Image;n.src=e,n.onload=function(){t.addImage(this)}})}},events:{"change input":function(e){var t=this,n=e.target.files;_.each(n,function(n){var i=URL.createObjectURL(n),r=new Image;r.index=$(e.target).attr("data-form-image-list-item"),r.src=i,r.file=n,r.onload=function(){t.addImage(this),t.trigger("change",[e,this.src,this.index])}})}}})}(t.exports,t,e);e.__modules__["48ac583e"]=t.exports}(this),function(e){var t={id:"48ac583f",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-select">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <a href="#" class="holder" data-fui-key="sel-holder"></a>            <ul class="sel-list" data-fui-key="sel-list">                {{#each data}}                <li class="sel">                    <a href="#" data-value="{{value}}">{{text}}</a>                </li>                {{/each}}            </ul>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac583f"]=t.exports}(this),function(e){var t={id:"48ac5840",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Select=Fui.Form.Element.extend({config:{value:null,label:"Select : ",data:[],tpl:n.__modules__["48ac583f"]},initialize:function(){this.render()},render:function(){var e=this,t=e.get("label"),n=e.get("data"),i=Handlebars.compile(e.get("tpl"));e.$el.html(i({label:t,data:n})),e.$list=e.$el.find("[data-fui-key=sel-list]"),e.$holder=e.$el.find("[data-fui-key=sel-holder]"),_.each(n,function(t){t.checked===!0&&e.set("value",t.value)})},openSelList:function(){this.$list.show(),this.$holder.addClass("on")},closeSelList:function(){this.$list.hide(),this.$holder.removeClass("on")},getData:function(){return{name:this.get("name"),value:this.get("value")}},onSelChange:Fui.emptyFunc,listeners:{change:Fui.emptyFunc,valueChanged:function(e,t){var n=this;_.each(this.get("data"),function(i){return i.value==e?(n.$holder.text(i.text),n.trigger("change",[e,t]),!1):void 0})}},events:{"mouseup [data-fui-key=sel-holder]":function(){this.$holder.hasClass("on")?this.closeSelList():this.openSelList()},"click [data-fui-key=sel-list]>li>a":function(e){this.set("value",$(e.target).attr("data-value")),this.closeSelList()}}})}(t.exports,t,e);e.__modules__["48ac5840"]=t.exports}(this),function(e){var t={id:"48ac5841",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-checkbox">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <button class="fui-form-field">                <span class="fui-form-checkbox-icon">                    <span data-form-checkbox-checkmark class="fui-form-checkbox-checkmark icon"></span>                </span>                <span class="fui-form-checkbox-text">{{text}}</span>            </button>        </div>    </div></div>'}(t.exports,t,e);e.__modules__["48ac5841"]=t.exports}(this),function(e){var t={id:"48ac5842",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.CheckBox=Fui.Form.Element.extend({config:{checked:!1,text:null,tpl:n.__modules__["48ac5841"]},listeners:{change:null,checkedChanged:function(e){var t=this.$checkmark;e?t.addClass("icon-checkmark"):t.removeClass("icon-checkmark"),this.set("value",e),this.trigger("change")}},events:{"click button":function(){this.set("checked",!this.get("checked"))}},initialize:function(){var e=this,t=e.get("text"),n=e.$el,i=e.get("label"),r=Handlebars.compile(e.get("tpl")),a=e.get("checked");e.$el.html(r({text:t,checked:a,label:i})),e.$checkmark=n.find("[data-form-checkbox-checkmark]"),setTimeout(function(){e.set("checked",a)},10)}})}(t.exports,t,e);e.__modules__["48ac5842"]=t.exports}(this),function(e){var t={id:"48ac5843",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-link">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            <a href="{{link}}" target="{{target}}" class="fui-form-link-a">{{text}}</a>        </div>    </div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac5843"]=t.exports}(this),function(e){var t={id:"48ac5844",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Link=Fui.Form.Element.extend({config:{link:null,text:null,textAlign:"left",target:"_blank",tpl:n.__modules__["48ac5843"]},listeners:{},events:{"click button":function(){this.set("checked",!this.get("checked"))}},initialize:function(){var e=this,t=e.get("text"),n=(e.$el,e.get("label")),i=e.get("link"),r=Handlebars.compile(e.get("tpl"));e.$el.html(r({target:e.get("target"),text:t,label:n,link:i})),e.$el.find("[data-form-link-a]").css({textAlign:e.get("textAlign")})}})}(t.exports,t,e);e.__modules__["48ac5844"]=t.exports}(this),function(e){var t={id:"48ac5845",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-link">    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            {{#if color}}            <a class="fui-form-string-a" style="color:{{color}};">{{text}}</a>            {{else}}            <a class="fui-form-string-a">{{text}}</a>            {{/if}}        </div>    </div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__["48ac5845"]=t.exports}(this),function(e){var t={id:"48ac5846",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.String=Fui.Form.Element.extend({config:{text:null,color:null,textAlign:"left",tpl:n.__modules__["48ac5845"]},listeners:{},initialize:function(){var e=this,t=e.get("text"),n=(e.$el,e.get("label")),i=(e.get("link"),Handlebars.compile(e.get("tpl")));e.$el.html(i({text:t,label:n})),e.$el.find("[data-form-string-a]").css({textAlign:e.get("textAlign")})}})}(t.exports,t,e);e.__modules__["48ac5846"]=t.exports}(this),function(e){var t={id:"48ac5847",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac582d"],n.__modules__["48ac582f"],n.__modules__["48ac5830"],n.__modules__["48ac5832"],n.__modules__["48ac5834"],n.__modules__["48ac5835"],n.__modules__["48ac5836"],n.__modules__["48ac5837"],n.__modules__["48ac5838"],n.__modules__["48ac5839"],n.__modules__["48ac583b"],n.__modules__["48ac583e"],n.__modules__["48ac5840"],n.__modules__["48ac5842"],n.__modules__["48ac5844"],n.__modules__["48ac5846"]}(t.exports,t,e);e.__modules__["48ac5847"]=t.exports}(this),function(e){var t={id:"48ac5848",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="video-pack" data-tap="popup-close">    <a data-tap="popup-close" class="close"></a>    <div id="popup-video-player" class="i">    </div></div>'}(t.exports,t,e);e.__modules__["48ac5848"]=t.exports}(this),function(e){var t={id:"48ac5849",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Popup=Fui.extend({className:function(){return["fui-popup",this.get("theme"),"hide"]},config:{theme:null,form:null,type:"scale",videoTpl:n.__modules__["48ac5848"],width:640,whRatio:16/9,innerView:null},listeners:{innerViewChanged:function(e){e&&(e.popup=this)},gesture:function(e,t,n){var i=this.get("innerView");i instanceof Fui&&i.trigger("gesture",[e,t,n])}},initialize:function(){var e=this,t=e.get("type");e.$el.addClass(t),e.$el.attr("data-tap","popup-close"),this.event=new Fui.Event({hoster:e})},_ontap:function(e){var t=$(e.target).attr("data-tap");"popup-close"==t&&this.hide()},form:function(e){return this.set("innerView",e),this.$el.append(e.$el),this.show(),this},popView:function(e){return this.set("innerView",e),this.$el.append(e.$el),this.show(),this},img:function(e){var t=this,n=this.$el,i=new Image;return i.src=e,i.onload=function(){n.append('<img data-tap="popup-close" src="'+e+'"/>'),t.show()},this},video:function(e,t){function n(){"undefined"!=typeof YKU&&(i.player=new YKU.Player("popup-video-player",{styleid:"0",client_id:t.clientId||"3e9659d488a5a018",vid:t.vid,autoplay:!0,show_related:!1,events:{onPlayerReady:function(){},onPlayStart:function(){},onPlayEnd:function(){i.player=null,i.hide()}}}),setTimeout(function(){try{i.player.playVideo()}catch(e){}},10))}var i=this,r=i.$el;r.append(i.get("videoTpl"));var a=r.find(".i");switch(a.css({width:i.get("width"),height:i.get("width")/i.get("whRatio")}),e){case"youku":n();break;case"letv":}return i.show(),i},show:function(){var e=this.$el;e.removeClass("hide"),$("body").append(e),setTimeout(function(){e.addClass("show")},1)},hide:function(){var e=this.$el,t=this;e.removeClass("show"),setTimeout(function(){t.remove()},500)}})}(t.exports,t,e);e.__modules__["48ac5849"]=t.exports}(this),function(e){var t={id:"48ac584a",exports:{}};e.__modules__||(e.__modules__={});!function(){var e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!e)throw Error("No createObjectURL function found to create blob url");Fui.Template=Fui.extend({className:function(){return["module","module-"+this.get("type"),this.get("cls")]},config:{type:null,cls:"",tpl:null,xtpl:null,pageIndex:0,bg:null},propsForm:null,save:function(){},getImgPath:function(e){return e},design:null,initialize:function(){var e=this,t=e.$el,n=e.get("bg");this.renderBg(n),this.addTpl(),this.addXtpl(),_.isFunction(this.design)&&this.design();var i=t.find("[data-scrollable]").first();i.length>0&&new Fui.Scrollable({$el:i})},loadResources:function(e){function t(){a==o.length&&_.isFunction(e)&&e()}var n=this,i=n.$el,r=i.find("[data-src]"),a=0,o=[];return i.attr("data-src")&&o.push(i[0]),_.each(r,function(e){o.push(e)}),0==o.length?void(_.isFunction(e)&&e()):void _.each(o,function(e){var n=$(e);if(1==n.length){var i=new Image;i.src=n.attr("data-src"),n.attr("data-src",null),i.onload=function(){a++,"img"==n[0].tagName.toLowerCase()?n.attr("src",this.src):n.css("backgroundImage","url("+this.src+")"),t()},i.onerror=function(){a++,t()}}else t()})},renderBg:function(e){e&&this.$el.attr("data-src",this.getImgPath(e))},clearBg:function(){this.$el.css({backgroundImage:"none"})},onFocus:function(){},onBlur:function(){},getTplData:function(){return{pageIndex:this.get("pageIndex")}},onGesture:function(){},checkSize:function(){return!0},validateInfo:function(e,t){var n=!0;return _.each(t,function(t){e.hasOwnProperty(t)||(error("Module must contain a ["+t+"] on [name: "+e.label+",label:"+e.name+"]"),n=!1)}),n},getXtplData:null,addXtpl:function(){var e=this,t=e.get("xtpl");if(!t)return!1;var n=$("#"+t).html();if(!n)return!1;var i={IMG_DIR:Fui.Template.IMG_DIR};_.isFunction(e.getXtplData)&&_.extend(i,e.getXtplData()),e.$el.append(Handlebars.compile(n)(i))},addTpl:function(){var e=this.get("tpl")||"";this.$el.append(Handlebars.compile(e)(this.getTplData()))},getData:function(){var e=this.getForm();return _.extend({},{template:this.get("template"),_form_title:e.get("title")},e.getData())},form:null,getForm:function(e){this.get("pageIndex")+1;return this.form||(this.form=new Fui.Form({size:"normal",title:e,items:this.getFormItems()})),this.form},getFormItems:Fui.emptyFunc,getGestureItems:function(){return[]},getText:function(e){return this.validateInfo(e,["name","label","placeHolder"])?(e.type="text",e):void 0},getSelection:function(e){e.$el;if(this.validateInfo(e,["name","label","change","data"]))return e.type="select",e},getImagePicker:function(e){return this.getImage(e)},getImageListPicker:function(t){var n=this;if(this.validateInfo(t,["name","change"]))return{type:"image-list",name:t.name,listeners:{change:function(i,r){var a=i.target.files[0],o=e.createObjectURL(a),s=new Image;s.src=o,s.onload=function(){var e=this.naturalWidth,a=this.naturalHeight;return n.checkSize(e,a)?void t.change.call(s,i,r):void error("Image size must be 640 X 1010")}}}}},getImage:function(e){if(this.validateInfo(e,["name","label","change"])){return e.type="image",e}}},{IMG_DIR:""})}(t.exports,t,e);e.__modules__["48ac584a"]=t.exports}(this),function(e){var t={id:"48ac584b",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='{{#if fg}}<div class="base-foreground"></div>{{/if}}'}(t.exports,t,e);e.__modules__["48ac584b"]=t.exports}(this),function(e){var t={id:"48ac584c",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Base=Fui.Template.extend({config:{type:"base",tpl:n.__modules__["48ac584b"],fg:null},listeners:{fgChanged:function(e){this.renderFg(e)}},save:function(e){function t(){r++,2==r&&e(!0,n)}var n=this,i=this.getForm().getData(),r=0;_.each(i,function(i,r){new Fui.FileUpload({file:i,name:r,listeners:{end:function(e,i){n.getForm().setData(i,e),t()},error:function(){e(!1)}}})})},render:function(){var e=this,t=e.get("fg");this.renderFg(t)},getTplData:function(){return{pageIndex:this.get("pageIndex"),fg:this.get("fg")}},renderFg:function(e){e&&this.$el.children(".base-foreground").css({backgroundImage:"url("+this.getImgPath(e)+")"})},clearFg:function(){this.$el.children(".base-foreground").css({backgroundImage:"none"})
},getFormItems:function(){{var e=this;e.$el}return[{type:"ImagePicker",$el:this.$el,label:"背景图片：",name:"bg"},{type:"ImagePicker",$el:this.$el,label:"前景图片：",name:"fg"}]}})}(t.exports,t,e);e.__modules__["48ac584c"]=t.exports}(this),function(e){var t={id:"48ac584d",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="video-play {{playIconCls}}">    {{#equal playIconCls \'default\'}}    <a data-tap="page-{{pageIndex}}-video-play" class="play-icon icon icon-play3 white"></a>    {{else}}    <a data-tap="page-{{pageIndex}}-video-play" class="play-icon white"></a>    {{/equal}}    <div class="play-bg"></div></div><div class="video-pack">    <a data-tap="page-{{pageIndex}}-video-close" class="close"></a>    <div id="page-{{pageIndex}}-video-player" class="i">    </div></div>'}(t.exports,t,e);e.__modules__["48ac584d"]=t.exports}(this),function(e){var t={id:"48ac584e",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Video=Fui.Template.extend({config:{type:"video",tpl:n.__modules__["48ac584d"],videoPackCss:null,playBtnCss:null,closeBtnCss:null,playIconCls:"default",platform:null,clientId:"3e9659d488a5a018",vid:null,width:640,whRatio:16/9},listeners:{play:function(){function e(){"undefined"!=typeof YKU&&(t.player=new YKU.Player("page-"+t.get("pageIndex")+"-video-player",{styleid:"0",client_id:t.get("clientId"),vid:t.get("vid"),autoplay:!0,show_related:!1,events:{onPlayerReady:function(){},onPlayStart:function(){},onPlayEnd:function(){t.player=null,console.log("close video"),t.trigger("close")}}}),setTimeout(function(){try{t.player.playVideo()}catch(e){}},10))}var t=this,n=t.get("platform");switch(this.$videoPack.addClass("show"),n){case"youku":e()}},close:function(){var e=this,t=e.get("platform");this.$videoPack.removeClass("show");try{switch(t){case"youku":e.player.pauseVideo()}}catch(n){}}},getTplData:function(){return{pageIndex:this.get("pageIndex"),playIconCls:this.get("playIconCls")}},render:function(){var e=this,t=e.$videoPack=e.$el.children(".video-pack"),n=t.children(".i");t.css(e.get("videoPackCss")||{}),e.$el.find(".video-pack>.close").css(e.get("closeBtnCss")||{}),e.$el.find(".play-icon").css(e.get("playBtnCss")||{}),n.css({width:e.get("width"),height:e.get("width")/e.get("whRatio")})},getGestureItems:function(){var e=this;return[{gesture:"tap",name:"page-"+e.get("pageIndex")+"-video-play",callback:function(){e.trigger("play")},caller:e},{gesture:"tap",name:"page-"+e.get("pageIndex")+"-video-close",callback:function(){e.trigger("close")},caller:e}]},save:function(e){var t=this,n=t.getForm(),i=t.getData();new Fui.FileUpload({file:i.bg,name:"bg",listeners:{end:function(t,i){console.log(arguments),n.setData(i,t),e(!0)},error:function(){e(!1)}}})},getFormItems:function(){this.$el;return[{type:"ImagePicker",label:"背景：",name:"bg"},{type:"Select",label:"播放按钮样式：",data:[{text:"样式一",value:0,checked:!0},{text:"样式二",value:1},{text:"样式三",value:2}],name:"playIconStyle"},{type:"Select",label:"播放平台",name:"platform",data:[{text:"优酷",value:"youku",checked:!0},{text:"腾讯",value:"qq"}]},{type:"Text",label:"视频ID",name:"vid",placeHolder:"优酷视频的ID(vid)"}]}})}(t.exports,t,e);e.__modules__["48ac584e"]=t.exports}(this),function(e){var t={id:"48ac584f",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<a class="photos-arrow photos-l-arrow" style="border-color:{{arrowColor}};"></a><a class="photos-arrow photos-r-arrow" style="border-color:{{arrowColor}};"></a><div class="photos-pack">    {{#each imgList}}        <img class="normal"             data-img-index="{{@index}}"             data-tap="page-{{../pageIndex}}-photos"             data-leftSwipe="page-{{../pageIndex}}-photos-item"             data-rightSwipe="page-{{../pageIndex}}-photos-item"             data-src="{{src}}"/>    {{/each}}</div>        {{#if withDesc}}<div class="desc-pack">    {{#each imgList}}    <div class="item" data-desc-index="{{@index}}">        <h4>{{title}}</h4>        <p>            {{desc}}        </p>    </div>    {{/each}}</div>        {{/if}}'}(t.exports,t,e);e.__modules__["48ac584f"]=t.exports}(this),function(e){var t={id:"48ac5850",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Photos=Fui.Template.extend({config:{type:"photos",tpl:n.__modules__["48ac584f"],data:null,arrowColor:"white",withDesc:!0,index:0},onPopFlag:!0,render:function(){{var e=this,t=e.$el;e.$pack=t.children(".photos-pack"),e.get("data")||[]}if(e.get("withDesc")){var n=e.$descPack=t.children(".desc-pack");n.children("[data-desc-index]").last().show().siblings("[data-desc-index]").hide()}this.ensureTop3Rotate()},save:function(e){function t(){2==++a&&e(!0)}var n=this,i=n.getForm(),r=i.getData(),a=0;_.each(r,function(n,r){new Fui.FileUpload({file:n,name:r,listeners:{end:function(e,n){i.setData(n,e),t()},error:function(){e(!1)}}})})},onFocus:function(){var e=this;e.$pack.addClass("focus").one("webkitTransitionEnd",function(){e.$el.addClass("ani")})},onBlur:function(){this.$pack.removeClass("focus"),this.$el.removeClass("ani")},ensureTop3Rotate:function(){var e=this.$pack.children("img"),t=e.last();e.removeClass("pre1 pre2"),t.addClass("pre1").prev().addClass("pre2"),this.ensureDescShow(t.attr("data-img-index"))},ensureDescShow:function(e){this.$descPack.children("[data-desc-index="+e+"]").show().siblings("[data-desc-index]").hide()},getTplData:function(){var e=this,t=e.get("data");return _.isFunction(t)&&(t=t.call(e),e.set("data",t)),{pageIndex:e.get("pageIndex"),imgList:t,arrowColor:e.get("arrowColor"),withDesc:e.get("withDesc")}},pop:function(e){var t=this,n=t.$pack,i=n.children();if(t.onPopFlag){t.onPopFlag=!1;var r=i.last();r.addClass(e).one("webkitTransitionEnd",function(){n.prepend(r.removeClass(e)),t.ensureTop3Rotate(),t.onPopFlag=!0}),t.get("withDesc")&&t.$descPack.addClass("hide").one("webkitTransitionEnd",function(){t.ensureDescShow(r.attr("data-img-index")),t.$descPack.removeClass("hide")})}},getGestureItems:function(){var e=this,t=e.get("pageIndex"),n=["page",t,"photos","item"].join("-");return[{gesture:"tap",name:["page",t,"photos"].join("-"),callback:function(){e.$descPack.toggleClass("invisible")}},{gesture:"leftSwipe",name:n,callback:function(){e.pop("afterL")}},{gesture:"rightSwipe",name:n,callback:function(){e.pop("afterR")}}]},removeItem:function(e){this.removeImg(e),this.removeDesc(e),this.ensureTop3Rotate()},addImg:function(e,t){var n=this,i=n.$pack.children("[data-img-index="+t+"]");i.length>0?i.attr("src",e):n.$pack.append(Handlebars.compile('<img class="normal" data-img-index="{{index}}" data-leftSwipe="page-{{pageIndex}}-photos-item" data-rightSwipe="page-{{pageIndex}}-photos-item" src="{{src}}"/>')({index:t,src:e,pageIndex:n.get("pageIndex")})),this.ensureTop3Rotate()},removeImg:function(e){this.$pack.children("[data-img-index="+e+"]").remove()},changeDesc:function(e,t){var n=this,i=n.$descPack,r=i.children("[data-desc-index="+t+"]");r.length>0?r.children("p").text(e):i.append(Handlebars.compile('<h4></h4><p data-desc-index="{{index}}">{{desc}}</p>')({index:t,desc:e}))},removeDesc:function(e){this.$descPack.children("[data-desc-index="+e+"]").remove()},getFormItems:function(){{var e=this;e.$pack}return[{type:"ImagePicker",name:"bg",label:"背景图片："},{type:"ImageListPicker",name:"data"}]}})}(t.exports,t,e);e.__modules__["48ac5850"]=t.exports}(this),function(e){var t={id:"48ac5851",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac584a"],n.__modules__["48ac584c"],n.__modules__["48ac584e"],n.__modules__["48ac5850"]}(t.exports,t,e);e.__modules__["48ac5851"]=t.exports}(this),function(e){var t={id:"48ac5852",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Arrow=Fui.extend({tagName:"a",config:{orient:"bottom",color:"white",style:{}},initialize:function(){var e=this,t=e.get("orient"),n={position:"absolute",zIndex:1030,border:"2px solid "+e.get("color"),borderRight:0,borderBottom:0,width:36,height:36,webkitAnimation:e.get("orient")+"Arrow 2s linear infinite"},i={};switch(t){case"top":i={left:"50%",top:30,marginLeft:-18};break;case"left":i={top:"50%",left:30,marginTop:-18};break;case"right":i={top:"50%",right:30,marginTop:-18};break;case"bottom":i={left:"50%",bottom:30,marginLeft:-18}}_.extend(n,i,e.get("style")),this.$el.css(n)}})}(t.exports,t,e);e.__modules__["48ac5852"]=t.exports}(this),function(e){var t={id:"48ac5853",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac5852"],Fui.PageSlider=Fui.Template.extend({className:function(){var e=this,t=e.get("orient");return["fui-pageSlider",t]},config:{slideType:null,pageNum:0,prePage:-1,curPage:0,nextPage:0,lock:!1,data:null,toggleCls:"focus",arrow:"bottom",orient:"y"},pageSize:{x:640,y:1008},updatePageSize:function(){var e=this,t=e.$el;e.pageSize.y=t.height(),e.pageSize.x=t.width()},data:null,_slide_flag:!1,getPage:function(e){return this.get("data")[e]},getImgPath:function(e){return e},render:function(){function e(t){function n(){console.log("module",t,"res loaded end! cost : ",Fui.performance.now()-s<<0,"ms"),e(++t)}s=Fui.performance.now(),r[t]&&r[t].loadResources?r[t].loadResources(n):t<r.length&&n()}var t=this,n=t.$el,i=t.$ul=$('<div class="c"></div>');n.append(i),this.event=new Fui.Event({hoster:this});var r=this.get("data")||[];_.isArray(r)&&r.length>0?(_.each(r,function(e,n){var i=Fui.Template[e.template];if(_.isFunction(i)){var a=$(t.getOnePageLI(n));t.$ul.append(a),e.pageIndex=n,e.el=a;var o=new i(e);o.render(),r.splice(n,1,o)}}),this.set("pageNum",r.length)):this.set("data",[]);var a=this.get("arrow");if(a){_.isString(a)&&(a={orient:a,without:[],style:{}});var o=this.arrow=new Fui.Arrow({orient:a.orient,style:a.style||{}});this.arrowWithout=_.isArray(a.without)?"-"+a.without.join("-")+"-":"",this.$el.append(o.$el)}t.ensureLayout();var s=0;setTimeout(function(){i.children().eq(t.get("curPage")).addClass("focus"),e(0)},1)},onGesture:function(e,t,n){var i=this,r=i.get("data"),a=i.get("index"),o=[],s=null,l=t.attr("data-"+e)||"";l=l.split("@");for(var u=0,c=r.length;c>u;u++){s=r[u];var d=!1;s.getGestureItems&&(o=s.getGestureItems()||[]);for(var h=0,f=o.length;f>h;h++){var g=o[h];if(e==g.gesture&&g.name==l[0]&&_.isFunction(g.callback)){g.callback.call(r[u],n,t,l[1]),d=!0;break}}if(d)break}r[a]&&r[a]instanceof Fui.Template&&r[a].onGesture(n,e,t)},onFocus:function(){this.get("data")[this.get("curPage")].onFocus()},onBlur:function(){this.get("data")[this.get("curPage")].onBlur()},_doTrans:function(e,t,n){function i(e){return/^[\+|\-]{1}$/.test(e)?e=parseInt(e+a.pageSize[r])+"px":/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==r?e:"0px"),"y"==r?e:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),a=this;"undefined"==typeof n&&(n=!0),e&&1==e.length&&e.css({display:"block",zoom:1,webkitTransform:i(t),webkitTransition:n?"-webkit-transform .4s":"none"})},_transitionEnd:function(e,t){var n=this,i=n.$ul;e.one("webkitTransitionEnd",function(){i.children().eq(t).addClass("focus").siblings("section").removeClass("focus");var e=n.get("data"),r=n.get("prePage"),a=e[t],o=e[r];a&&_.isFunction(a.onFocus)&&a.onFocus(),o&&o!=a&&_.isFunction(o.onBlur)&&o.onBlur(),n.ensureLayout(),n._slide_flag=!1})},toPage:function(e){var t=this,n=t.get("curPage"),i=t.get("pageNum"),r=t.$ul,a=(t.get("orient"),r.children());0>e&&(e=i-1),e>i-1&&(e=0),e!=n&&(e>n?(t._doTrans(a.eq(e),"100%",!1),setTimeout(function(){t._doTrans(a.eq(n),"-100%"),t._doTrans(a.eq(e),"0px")},1)):n>e&&(t._doTrans(a.eq(e),"-100%",!1),setTimeout(function(){t._doTrans(a.eq(n),"100%"),t._doTrans(a.eq(e),"0px")},1)),t.set("curPage",e),t.set("prePage",n),t.trigger("slide",[e]),t._transitionEnd(a.eq(e),e))},slide:function(e){function t(){var t=a.eq(e);t.css({zIndex:1,opacity:1}).siblings().css({zIndex:0,opacity:0}),i._transitionEnd(t,e)}function n(){var t=i.event._event_cur_dis[l];switch(u){case"=":t>0?i._doTrans(i.$preLi,"-"):i._doTrans(i.$nextLi,"+"),i._doTrans(i.$curLi,"0px");break;case"+":i._doTrans(i.$curLi,"-"),i._doTrans(i.$nextLi,"0");break;case"-":i._doTrans(i.$curLi,"+"),i._doTrans(i.$preLi,"0px")}i._transitionEnd(i.$curLi,e)}var i=this,r=i.$ul,a=r.children(),o=i.get("curPage"),s=i.get("pageNum"),l=i.get("orient"),u=e==o?"=":e>o?"+":"-",c=i.get("slideType");switch(0>e&&(e=s-1),e>s-1&&(e=0),e==o&&(u="="),this.arrow&&(this.arrow instanceof Fui&&this.arrowWithout.indexOf("-"+e+"-")>=0?this.arrow.hide():this.arrow.show()),i.set("prePage",i.get("curPage")),i.set("curPage",e),i._slide_flag=!0,setTimeout(function(){i._slide_flag=!1},400),c){case"fade":t();break;default:n()}i.trigger("slide",[e])},next:function(e){var t=this,n=t.get("curPage");t.slide(n+1,e)},prev:function(e){var t=this.get("curPage");this.slide(t-1,e)},ensure$LI:function(){var e=this,t=e.$ul.children(),n=e.get("curPage"),i=e.get("pageNum"),r=0>n-1?i-1:n-1,a=n+1>i-1?0:n+1;e.$curLi=t.eq(n),i>2&&(e.$preLi=t.eq(r)),i>=2&&(e.$nextLi=t.eq(a)),e.ul_height=e.$ul.height(),e.ul_width=e.$ul.width()},ensureLayout:function(){function e(){i.css({webkitTransition:"opacity .4s ease"}),n._doTrans(n.$preLi,"0",!1),n._doTrans(n.$curLi,"0",!1),n._doTrans(n.$nextLi,"0",!1),n.$curLi.css({opacity:1,zIndex:1}).siblings().css({opacity:0,zIndex:0})}function t(){n._doTrans(n.$preLi,"-100%",!1),n._doTrans(n.$curLi,"0px",!1),n._doTrans(n.$nextLi,"100%",!1)}var n=this,i=n.$ul.children(),r=(n.get("orient"),n.get("slideType"));switch(n.ensure$LI(),r){case"fade":e();break;default:t()}},listeners:{gesture:null,lockChanged:function(e){e?this.arrow.hide():this.arrow.show()},touchstart:function(e){function t(){}function n(){}var i=this,r=i.get("slideType");if(e.$e.stopPropagation(),e.$e.preventDefault(),i.updatePageSize(),!i._slide_flag)switch(r){case"fade":t();break;default:n()}},touchmove:function(e){function t(){}function n(){s>0?(i._doTrans(i.$nextLi,"100%",!1),i._doTrans(i.$preLi,s-o,!1)):(i._doTrans(i.$preLi,"100%",!1),i._doTrans(i.$nextLi,s+o,!1)),i._doTrans(i.$curLi,s,!1)}e.$e.stopPropagation(),e.$e.preventDefault();var i=this,r=i.event,a=i.get("orient"),o={x:i.ul_width,y:i.ul_height}[a],s=r._event_cur_dis[a],l=i.get("slideType");if(!0!==i.get("lock")&&r.checkOrientGesture(a)&&!i._slide_flag)switch(l){case"fade":t();break;default:n()}},touchend:function(e){e.$e.stopPropagation(),e.$e.preventDefault();{var t=this,n=t.event,i=t.get("orient");t.get("slideType")}if(!n.checkOrientGesture(i))return t.slide(t.get("curPage"));if(!t._slide_flag&&!0!==t.get("lock")){if("y"==i)switch(n.gesture){case"upSwipe":t.next(e);break;case"downSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}if("x"==i)switch(n.gesture){case"leftSwipe":t.next(e);break;case"rightSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}}}},getOnePageLI:function(e){return Handlebars.compile('<section class="p p{{index}}"></section>')({index:e})},insert:function(e,t,n){var i=this,r=i.$ul,a=i.get("pageNum")+1,o=i.get("data"),s=Fui.Template[e];if(console.log(n),0>t&&(t=0),t>a&&(t=a),!_.isFunction(s))return error(e+" is not loaded !"),!1;var l=$(i.getOnePageLI(t)),u=new s(_.extend(n,{pageIndex:t,template:e,el:l[0]}));u.render(),0==t?r.prepend(l):l.insertAfter(r.children().eq(t-1));var c=o.slice(0,t),d=o.slice(t);return i.set("data",c.concat([u],d)),i.set("pageNum",a),i.ensureLayout(),u.loadResources(),u}})}(t.exports,t,e);e.__modules__["48ac5853"]=t.exports}(this),function(e){var t={id:"48ac5854",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac5853"]}(t.exports,t,e);e.__modules__["48ac5854"]=t.exports}(this),function(e){var t={id:"48ac5855",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.FileUpload=FClass.extend({config:{file:null,name:null},listeners:{start:null,progress:null,end:null,error:null},initial:function(){function e(i){function a(t){r.push(t),e(i)}if(0==n.length)return i();var o=n.shift();if(o&&o instanceof File){var s=new FormData;s.append("upfile",o);var l=new XMLHttpRequest;l.open("POST","http://www.36ap.com/do_media_upload",!0),l.onload=function(){if(200===l.status){var e=JSON.parse(l.responseText||"");a(e.path)}else t.trigger("error")},l.send(s)}else a(o)}var t=this,n=t.get("file"),i=t.get("name"),r=[];return n?(_.isArray(n)||(n=[n]),void e(function(){1==r.length&&(r=r[0]),t.trigger("end",[r,i])})):t.trigger("end",[null,i])}})}(t.exports,t,e);e.__modules__["48ac5855"]=t.exports}(this),function(e){var t={id:"48ac5856",exports:{}};e.__modules__||(e.__modules__={});!function(){!function(e){function t(e){this.mode=o.MODE_8BIT_BYTE,this.data=e}function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function i(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function r(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=new Array,this.length=0}t.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},n.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;40>e;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new a,i=0,o=0;o<t.length;o++)i+=t[o].dataCount;for(var o=0;o<this.dataList.length;o++){var s=this.dataList[o];n.put(s.mode,4),n.put(s.getLength(),u.getLengthInBits(s.mode,e)),s.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;7>=n;n++)if(!(-1>=e+n||this.moduleCount<=e+n))for(var i=-1;7>=i;i++)-1>=t+i||this.moduleCount<=t+i||(this.modules[e+n][t+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i?!0:!1)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;8>n;n++){this.makeImpl(!0,n);var i=u.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*r,s=0;s<this.modules[a].length;s++){var l=s*r,u=this.modules[a][s];u&&(i.beginFill(0,100),i.moveTo(l,o),i.lineTo(l+r,o),i.lineTo(l+r,o+r),i.lineTo(l,o+r),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=u.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var a=-2;2>=a;a++)for(var o=-2;2>=o;o++)this.modules[i+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o?!0:!1}},setupTypeNumber:function(e){for(var t=u.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;18>n;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=u.getBCHTypeInfo(n),r=0;15>r;r++){var a=!e&&1==(i>>r&1);6>r?this.modules[r][8]=a:8>r?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;15>r;r++){var a=!e&&1==(i>>r&1);8>r?this.modules[8][this.moduleCount-r-1]=a:9>r?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;2>s;s++)if(null==this.modules[i][o-s]){var l=!1;a<e.length&&(l=1==(e[a]>>>r&1));var c=u.getMask(t,i,o-s);c&&(l=!l),this.modules[i][o-s]=l,r--,-1==r&&(a++,r=7)}if(i+=n,0>i||this.moduleCount<=i){i-=n,n=-n;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,t,i){for(var o=r.getRSBlocks(e,t),s=new a,l=0;l<i.length;l++){var c=i[l];s.put(c.mode,4),s.put(c.getLength(),u.getLengthInBits(c.mode,e)),c.write(s)}for(var d=0,l=0;l<o.length;l++)d+=o[l].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*d)break;if(s.put(n.PAD0,8),s.getLengthInBits()>=8*d)break;s.put(n.PAD1,8)}return n.createBytes(s,o)},n.createBytes=function(e,t){for(var n=0,r=0,a=0,o=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,d=t[l].totalCount-c;r=Math.max(r,c),a=Math.max(a,d),o[l]=new Array(c);for(var h=0;h<o[l].length;h++)o[l][h]=255&e.buffer[h+n];n+=c;var f=u.getErrorCorrectPolynomial(d),g=new i(o[l],f.getLength()-1),p=g.mod(f);s[l]=new Array(f.getLength()-1);for(var h=0;h<s[l].length;h++){var _=h+p.getLength()-s[l].length;s[l][h]=_>=0?p.get(_):0}}for(var m=0,h=0;h<t.length;h++)m+=t[h].totalCount;for(var v=new Array(m),x=0,h=0;r>h;h++)for(var l=0;l<t.length;l++)h<o[l].length&&(v[x++]=o[l][h]);for(var h=0;a>h;h++)for(var l=0;l<t.length;l++)h<s[l].length&&(v[x++]=s[l][h]);return v};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(e<<10|t)^u.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return u.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case l.PATTERN000:return(t+n)%2==0;case l.PATTERN001:return t%2==0;case l.PATTERN010:return n%3==0;case l.PATTERN011:return(t+n)%3==0;case l.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case l.PATTERN101:return t*n%2+t*n%3==0;case l.PATTERN110:return(t*n%2+t*n%3)%2==0;case l.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),n=0;e>n;n++)t=t.multiply(new i([1,c.gexp(n)],0));return t},getLengthInBits:function(e,t){if(t>=1&&10>t)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>t)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>t))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;t>i;i++)for(var r=0;t>r;r++){for(var a=0,o=e.isDark(i,r),s=-1;1>=s;s++)if(!(0>i+s||i+s>=t))for(var l=-1;1>=l;l++)0>r+l||r+l>=t||(0!=s||0!=l)&&o==e.isDark(i+s,r+l)&&a++;a>5&&(n+=3+a-5)}for(var i=0;t-1>i;i++)for(var r=0;t-1>r;r++){var u=0;e.isDark(i,r)&&u++,e.isDark(i+1,r)&&u++,e.isDark(i,r+1)&&u++,e.isDark(i+1,r+1)&&u++,(0==u||4==u)&&(n+=3)}for(var i=0;t>i;i++)for(var r=0;t-6>r;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(var r=0;t>r;r++)for(var i=0;t-6>i;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);for(var c=0,r=0;t>r;r++)for(var i=0;t>i;i++)e.isDark(i,r)&&c++;var d=Math.abs(100*c/t/t-50)/5;return n+=10*d}},c={glog:function(e){if(1>e)throw new Error("glog("+e+")");return c.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return c.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;8>d;d++)c.EXP_TABLE[d]=1<<d;for(var d=8;256>d;d++)c.EXP_TABLE[d]=c.EXP_TABLE[d-4]^c.EXP_TABLE[d-5]^c.EXP_TABLE[d-6]^c.EXP_TABLE[d-8];for(var d=0;255>d;d++)c.LOG_TABLE[c.EXP_TABLE[d]]=d;i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=c.gexp(c.glog(this.get(n))+c.glog(e.get(r)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=c.glog(this.get(0))-c.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=c.gexp(c.glog(e.get(r))+t);return new i(n,0).mod(e)}},r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=new Array,o=0;i>o;o++)for(var s=n[3*o+0],l=n[3*o+1],u=n[3*o+2],c=0;s>c;c++)a.push(new r(l,u));return a},r.getRsBlockTable=function(e,t){switch(t){case s.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case s.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case s.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case s.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return void 0}},a.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;t>n;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.fn.qrcode=function(t){"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:s.H,background:"#ffffff",foreground:"#000000"},t);var i=function(){var e=new n(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var i=document.createElement("canvas");i.width=t.width,i.height=t.height;for(var r=i.getContext("2d"),a=t.width/e.getModuleCount(),o=t.height/e.getModuleCount(),s=0;s<e.getModuleCount();s++)for(var l=0;l<e.getModuleCount();l++){r.fillStyle=e.isDark(s,l)?t.foreground:t.background;var u=Math.ceil((l+1)*a)-Math.floor(l*a),c=Math.ceil((s+1)*a)-Math.floor(s*a);r.fillRect(Math.round(l*a),Math.round(s*o),u,c)}return i},r=function(){var i=new n(t.typeNumber,t.correctLevel);i.addData(t.text),i.make();for(var r=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),a=t.width/i.getModuleCount(),o=t.height/i.getModuleCount(),s=0;s<i.getModuleCount();s++)for(var l=e("<tr></tr>").css("height",o+"px").appendTo(r),u=0;u<i.getModuleCount();u++)e("<td></td>").css("width",a+"px").css("background-color",i.isDark(s,u)?t.foreground:t.background).appendTo(l);return r};return this.each(function(){var n="canvas"==t.render?i():r();e(n).appendTo(this)})}}(jQuery)}(t.exports,t,e);e.__modules__["48ac5856"]=t.exports}(this),function(e){var t={id:"48ac5857",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Weixin=FClass.extend({config:{title:null,title1:null,desc:null,link:String(window.location.href),appid:"",img_url:null,img_width:200,img_height:200},initial:function(){var e=this;document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{appid:"",img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title1")||e.get("title")},function(){})}),WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title")},function(t){switch(t.err_msg){case"share:timeline:ok":e.trigger("timeline",[!0]);
break;case"share:timeline:cancel":e.trigger("timeline",[!1])}})})},!1)}})}(t.exports,t,e);e.__modules__["48ac5857"]=t.exports}(this),function(e){var t={id:"48ac5858",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Gravity=FClass.extend({initial:function(){function e(e){e.stopPropagation(),e.preventDefault();var c=e.accelerationIncludingGravity,d=(new Date).getTime();if(d-u>300){var h=d-u;u=d,t=c.x,n=c.y,i=c.z;var f=Math.abs(t+n+i-r-a-o)/h*1e4;console.log(t<<0,n<<0,i<<0),f>l&&s.trigger("shake"),r=t,a=n,o=i}}var t,n,i,r,a,o,s=this,l=300,u=0;window.addEventListener("devicemotion",e,!1)},listeners:{shake:null}})}(t.exports,t,e);e.__modules__["48ac5858"]=t.exports}(this),function(e){var t={id:"48ac5859",exports:{}};e.__modules__||(e.__modules__={});!function(){function e(e){return!!e.exifdata}function t(e,t){s(e.src,function(i){var r=n(i.binaryResponse);e.exifdata=r||{},t&&t()})}function n(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,n=e.getLength();n>t;){if(255!=e.getByteAt(t))return u&&console.log("Not a valid marker at offset "+t+", found: "+e.getByteAt(t)),!1;var i=e.getByteAt(t+1);if(22400==i)return u&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);if(225==i)return u&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);t+=2+e.getShortAt(t+2,!0)}}function i(e,t,n,i,a){for(var o=e.getShortAt(n,a),s={},l=0;o>l;l++){var c=n+12*l+2,d=i[e.getShortAt(c,a)];!d&&u&&console.log("Unknown tag: "+e.getShortAt(c,a)),s[d]=r(e,c,t,n,a)}return s}function r(e,t,n,i,r){var a=e.getShortAt(t+2,r),o=e.getLongAt(t+4,r),s=e.getLongAt(t+8,r)+n;switch(a){case 1:case 7:if(1==o)return e.getByteAt(t+8,r);for(var l=o>4?s:t+8,u=[],c=0;o>c;c++)u[c]=e.getByteAt(l+c);return u;case 2:var d=o>4?s:t+8;return e.getStringAt(d,o-1);case 3:if(1==o)return e.getShortAt(t+8,r);for(var l=o>2?s:t+8,u=[],c=0;o>c;c++)u[c]=e.getShortAt(l+2*c,r);return u;case 4:if(1==o)return e.getLongAt(t+8,r);for(var u=[],c=0;o>c;c++)u[c]=e.getLongAt(s+4*c,r);return u;case 5:if(1==o)return e.getLongAt(s,r)/e.getLongAt(s+4,r);for(var u=[],c=0;o>c;c++)u[c]=e.getLongAt(s+8*c,r)/e.getLongAt(s+4+8*c,r);return u;case 9:if(1==o)return e.getSLongAt(t+8,r);for(var u=[],c=0;o>c;c++)u[c]=e.getSLongAt(s+4*c,r);return u;case 10:if(1==o)return e.getSLongAt(s,r)/e.getSLongAt(s+4,r);for(var u=[],c=0;o>c;c++)u[c]=e.getSLongAt(s+8*c,r)/e.getSLongAt(s+4+8*c,r);return u}}function a(e,t){if("Exif"!=e.getStringAt(t,4))return u&&console.log("Not valid EXIF data! "+e.getStringAt(t,4)),!1;var n,r=t+6;if(18761==e.getShortAt(r))n=!1;else{if(19789!=e.getShortAt(r))return u&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getShortAt(r+2,n))return u&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getLongAt(r+4,n))return u&&console.log("Not valid TIFF data! (First offset not 8)",e.getShortAt(r+4,n)),!1;var a=i(e,r,r+8,l.TiffTags,n);if(a.ExifIFDPointer){var o=i(e,r,r+a.ExifIFDPointer,l.Tags,n);for(var s in o){switch(s){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[s]=l.StringValues[s][o[s]];break;case"ExifVersion":case"FlashpixVersion":o[s]=String.fromCharCode(o[s][0],o[s][1],o[s][2],o[s][3]);break;case"ComponentsConfiguration":o[s]=l.StringValues.Components[o[s][0]]+l.StringValues.Components[o[s][1]]+l.StringValues.Components[o[s][2]]+l.StringValues.Components[o[s][3]]}a[s]=o[s]}}if(a.GPSInfoIFDPointer){var c=i(e,r,r+a.GPSInfoIFDPointer,l.GPSTags,n);for(var s in c){switch(s){case"GPSVersionID":c[s]=c[s][0]+"."+c[s][1]+"."+c[s][2]+"."+c[s][3]}a[s]=c[s]}}return a}var o=function(e,t,n){var i=e,r=t||0,a=0;this.getRawData=function(){return i},"string"==typeof e?(a=n||i.length,this.getByteAt=function(e){return 255&i.charCodeAt(e+r)}):"unknown"==typeof e&&(a=n||IEBinary_getLength(i),this.getByteAt=function(e){return IEBinary_getByteAt(i,e+r)}),this.getLength=function(){return a},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return 0>n&&(n+=65536),n},this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n},this.getLongAt=function(e,t){var n=this.getByteAt(e),i=this.getByteAt(e+1),r=this.getByteAt(e+2),a=this.getByteAt(e+3),o=t?(((n<<8)+i<<8)+r<<8)+a:(((a<<8)+r<<8)+i<<8)+n;return 0>o&&(o+=4294967296),o},this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n},this.getStringAt=function(e,t){for(var n=[],i=e,r=0;e+t>i;i++,r++)n[r]=String.fromCharCode(this.getByteAt(i));return n.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(i)},this.fromBase64=function(e){i=window.atob(e)}},s=function(){function e(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function t(t,n,i){var r=e();r?(n&&("undefined"!=typeof r.onload?r.onload=function(){"200"==r.status?n(this):i&&i(),r=null}:r.onreadystatechange=function(){4==r.readyState&&("200"==r.status?n(this):i&&i(),r=null)}),r.open("HEAD",t,!0),r.send(null)):i&&i()}function n(t,n,i,r,a,s){var l=e();if(l){var u=0;r&&!a&&(u=r[0]);var c=0;r&&(c=r[1]-r[0]+1),n&&("undefined"!=typeof l.onload?l.onload=function(){"200"==l.status||"206"==l.status||"0"==l.status?(this.binaryResponse=new o(this.responseText,u,c),this.fileSize=s||this.getResponseHeader("Content-Length"),n(this)):i&&i(),l=null}:l.onreadystatechange=function(){4==l.readyState&&("200"==l.status||"206"==l.status||"0"==l.status?(this.binaryResponse=new o(l.responseBody,u,c),this.fileSize=s||this.getResponseHeader("Content-Length"),n(this)):i&&i(),l=null)}),console.log(t),l.open("GET",t,!0),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=x-user-defined"),r&&a&&l.setRequestHeader("Range","bytes="+r[0]+"-"+r[1]),l.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),l.send(null)}else i&&i()}return function(e,i,r,a){a?t(e,function(t){var o,s,l=parseInt(t.getResponseHeader("Content-Length"),10),u=t.getResponseHeader("Accept-Ranges");o=a[0],a[0]<0&&(o+=l),s=o+a[1]-1,n(e,i,r,[o,s],"bytes"==u,l)}):n(e,i,r)}}(),l={},u=!1;l.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},l.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},l.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},l.getData=function(n,i){return n.complete?(e(n)?i&&i():t(n,i),!0):!1},l.readFromBinaryFile=function(e){return n(e)},window.EXIF=l,window.BinaryFile=o}(t.exports,t,e);e.__modules__["48ac5859"]=t.exports}(this),function(e){var t={id:"48ac585a",exports:{}};e.__modules__||(e.__modules__={});!function(){!function(){function e(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var i=document.createElement("canvas");i.width=i.height=1;var r=i.getContext("2d");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function t(e,t,n){var i=document.createElement("canvas");i.width=1,i.height=n;var r=i.getContext("2d");r.drawImage(e,0,0);for(var a=r.getImageData(0,0,1,n).data,o=0,s=n,l=n;l>o;){var u=a[4*(l-1)+3];0===u?s=l:o=l,l=s+o>>1}var c=l/n;return 0===c?1:c}function n(e,t,n){var r=document.createElement("canvas");return i(e,r,t,n),r.toDataURL("image/jpeg",t.quality||.8)}function i(n,i,a,o){var s=n.naturalWidth,l=n.naturalHeight,u=a.width,c=a.height,d=i.getContext("2d");d.save(),r(i,u,c,a.orientation);var h=e(n);h&&(s/=2,l/=2);var f=1024,g=document.createElement("canvas");g.width=g.height=f;for(var p=g.getContext("2d"),_=o?t(n,s,l):1,m=Math.ceil(f*u/s),v=Math.ceil(f*c/l/_),x=0,y=0;l>x;){for(var w=0,b=0;s>w;)p.clearRect(0,0,f,f),p.drawImage(n,-w,-x),d.drawImage(g,0,0,f,f,b,y,m,v),w+=f,b+=m;x+=f,y+=v}d.restore(),g=p=null}function r(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var r=e.getContext("2d");switch(i){case 1:break;case 2:r.translate(t,0),r.scale(-1,1);break;case 3:r.translate(t,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(t,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-t,0)}}function a(e){var t=this;if(window.Blob&&e instanceof Blob){var n=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");n.src=i.createObjectURL(e),this.blob=e,e=n}if(!e.naturalWidth&&!e.naturalHeight){var r=this;e.onload=function(){var e=r.imageLoadListeners;if(t.width=this.width,t.height=this.height,e){r.imageLoadListeners=null;for(var n=0,i=e.length;i>n;n++)e[n]()}},this.imageLoadListeners=[]}this.srcImage=e}a.prototype.imageWidth=0,a.prototype.imageHeight=0,a.prototype.render=function(e,t,r){var a=this;if(this.imageLoadListeners){var o=this;return void this.imageLoadListeners.push(function(){o.render(e,t,r)})}t=t||{};var s=this.srcImage.naturalWidth,l=this.srcImage.naturalHeight,u=t.width,c=t.height,d=t.maxWidth,h=t.maxHeight,f=!this.blob||"image/jpeg"===this.blob.type;u&&!c?c=l*u/s<<0:c&&!u?u=s*c/l<<0:(u=s,c=l),d&&u>d&&(u=d,c=l*u/s<<0),h&&c>h&&(c=h,u=s*c/l<<0),a.width=this.width,a.height=this.height;var g={width:u,height:c};for(var p in t)g[p]=t[p];var _=e.tagName.toLowerCase();"img"===_?e.src=n(this.srcImage,g,f):"canvas"===_&&i(this.srcImage,e,g,f),"function"==typeof this.onrender&&this.onrender(e),r({height:c,width:u})},"function"==typeof define&&define.amd?define([],function(){return a}):this.MegaPixImage=a,window.MegaPixImage=a}()}(t.exports,t,e);e.__modules__["48ac585a"]=t.exports}(this),function(e){var t={id:"48ac585b",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac5859"],n.__modules__["48ac585a"]}(t.exports,t,e);e.__modules__["48ac585b"]=t.exports}(this),function(e){var t={id:"48ac585c",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac582c"],n.__modules__["48ac582d"],n.__modules__["48ac5847"],n.__modules__["48ac5849"],n.__modules__["48ac5851"],n.__modules__["48ac5854"],n.__modules__["48ac5855"],n.__modules__["48ac5856"],n.__modules__["48ac5857"],n.__modules__["48ac5858"],n.__modules__["48ac585b"]}(t.exports,t,e);e.__modules__["48ac585c"]=t.exports}(this),function(e){var t={id:"48ac585d",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__["48ac585c"]}(t.exports,t,e);e.__modules__["48ac585d"]=t.exports}(this);