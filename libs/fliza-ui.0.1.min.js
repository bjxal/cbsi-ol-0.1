!function(e){var t={id:"b3bc23d0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){(function(){var n=this,i=n._,r={},s=Array.prototype,a=Object.prototype,o=Function.prototype,l=s.push,u=s.slice,c=s.concat,d=a.toString,f=a.hasOwnProperty,_=s.forEach,p=s.map,h=s.reduce,g=s.reduceRight,m=s.filter,v=s.every,b=s.some,x=s.indexOf,y=s.lastIndexOf,w=Array.isArray,k=Object.keys,F=o.bind,$=function(e){return e instanceof $?e:this instanceof $?void(this._wrapped=e):new $(e)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=$),e._=$):n._=$,$.VERSION="1.6.0";var S=$.each=$.forEach=function(e,t,n){if(null==e)return e;if(_&&e.forEach===_)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var a=$.keys(e),i=0,s=a.length;s>i;i++)if(t.call(n,e[a[i]],a[i],e)===r)return;return e};$.map=$.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(S(e,function(e,r,s){i.push(t.call(n,e,r,s))}),i)};var I="Reduce of empty array with no initial value";$.reduce=$.foldl=$.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=$.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(S(e,function(e,s,a){r?n=t.call(i,n,e,s,a):(n=e,r=!0)}),!r)throw new TypeError(I);return n},$.reduceRight=$.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return i&&(t=$.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var a=$.keys(e);s=a.length}if(S(e,function(o,l,u){l=a?a[--s]:--s,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(I);return n},$.find=$.detect=function(e,t,n){var i;return T(e,function(e,r,s){return t.call(n,e,r,s)?(i=e,!0):void 0}),i},$.filter=$.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(S(e,function(e,r,s){t.call(n,e,r,s)&&i.push(e)}),i)},$.reject=function(e,t,n){return $.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},$.every=$.all=function(e,t,n){t||(t=$.identity);var i=!0;return null==e?i:v&&e.every===v?e.every(t,n):(S(e,function(e,s,a){return(i=i&&t.call(n,e,s,a))?void 0:r}),!!i)};var T=$.some=$.any=function(e,t,n){t||(t=$.identity);var i=!1;return null==e?i:b&&e.some===b?e.some(t,n):(S(e,function(e,s,a){return i||(i=t.call(n,e,s,a))?r:void 0}),!!i)};$.contains=$.include=function(e,t){return null==e?!1:x&&e.indexOf===x?-1!=e.indexOf(t):T(e,function(e){return e===t})},$.invoke=function(e,t){var n=u.call(arguments,2),i=$.isFunction(t);return $.map(e,function(e){return(i?t:e[t]).apply(e,n)})},$.pluck=function(e,t){return $.map(e,$.property(t))},$.where=function(e,t){return $.filter(e,$.matches(t))},$.findWhere=function(e,t){return $.find(e,$.matches(t))},$.max=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return S(e,function(e,s,a){var o=t?t.call(n,e,s,a):e;o>r&&(i=e,r=o)}),i},$.min=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return S(e,function(e,s,a){var o=t?t.call(n,e,s,a):e;r>o&&(i=e,r=o)}),i},$.shuffle=function(e){var t,n=0,i=[];return S(e,function(e){t=$.random(n++),i[n-1]=i[t],i[t]=e}),i},$.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=$.values(e)),e[$.random(e.length-1)]):$.shuffle(e).slice(0,Math.max(0,t))};var P=function(e){return null==e?$.identity:$.isFunction(e)?e:$.property(e)};$.sortBy=function(e,t,n){return t=P(t),$.pluck($.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var r={};return n=P(n),S(t,function(s,a){var o=n.call(i,s,a,t);e(r,o,s)}),r}};$.groupBy=E(function(e,t,n){$.has(e,t)?e[t].push(n):e[t]=[n]}),$.indexBy=E(function(e,t,n){e[t]=n}),$.countBy=E(function(e,t){$.has(e,t)?e[t]++:e[t]=1}),$.sortedIndex=function(e,t,n,i){n=P(n);for(var r=n.call(i,t),s=0,a=e.length;a>s;){var o=s+a>>>1;n.call(i,e[o])<r?s=o+1:a=o}return s},$.toArray=function(e){return e?$.isArray(e)?u.call(e):e.length===+e.length?$.map(e,$.identity):$.values(e):[]},$.size=function(e){return null==e?0:e.length===+e.length?e.length:$.keys(e).length},$.first=$.head=$.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:u.call(e,0,t)},$.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},$.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},$.rest=$.tail=$.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},$.compact=function(e){return $.filter(e,$.identity)};var L=function(e,t,n){return t&&$.every(e,$.isArray)?c.apply(n,e):(S(e,function(e){$.isArray(e)||$.isArguments(e)?t?l.apply(n,e):L(e,t,n):n.push(e)}),n)};$.flatten=function(e,t){return L(e,t,[])},$.without=function(e){return $.difference(e,u.call(arguments,1))},$.partition=function(e,t){var n=[],i=[];return S(e,function(e){(t(e)?n:i).push(e)}),[n,i]},$.uniq=$.unique=function(e,t,n,i){$.isFunction(t)&&(i=n,n=t,t=!1);var r=n?$.map(e,n,i):e,s=[],a=[];return S(r,function(n,i){(t?i&&a[a.length-1]===n:$.contains(a,n))||(a.push(n),s.push(e[i]))}),s},$.union=function(){return $.uniq($.flatten(arguments,!0))},$.intersection=function(e){var t=u.call(arguments,1);return $.filter($.uniq(e),function(e){return $.every(t,function(t){return $.contains(t,e)})})},$.difference=function(e){var t=c.apply(s,u.call(arguments,1));return $.filter(e,function(e){return!$.contains(t,e)})},$.zip=function(){for(var e=$.max($.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=$.pluck(arguments,""+n);return t},$.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},$.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=$.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(x&&e.indexOf===x)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},$.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},$.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,s=new Array(i);i>r;)s[r++]=e,e+=n;return s};var C=function(){};$.bind=function(e,t){var n,i;if(F&&e.bind===F)return F.apply(e,u.call(arguments,1));if(!$.isFunction(e))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(u.call(arguments)));C.prototype=e.prototype;var r=new C;C.prototype=null;var s=e.apply(r,n.concat(u.call(arguments)));return Object(s)===s?s:r}},$.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,s=i.length;s>r;r++)i[r]===$&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},$.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=$.bind(e[t],e)}),e},$.memoize=function(e,t){var n={};return t||(t=$.identity),function(){var i=t.apply(this,arguments);return $.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},$.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},$.defer=function(e){return $.delay.apply($,[e,1].concat(u.call(arguments,1)))},$.throttle=function(e,t,n){var i,r,s,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:$.now(),a=null,s=e.apply(i,r),i=r=null};return function(){var u=$.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return i=this,r=arguments,0>=c?(clearTimeout(a),a=null,o=u,s=e.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(l,c)),s}},$.debounce=function(e,t,n){var i,r,s,a,o,l=function(){var u=$.now()-a;t>u?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(s,r),s=r=null))};return function(){s=this,r=arguments,a=$.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(o=e.apply(s,r),s=r=null),o}},$.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},$.wrap=function(e,t){return $.partial(t,e)},$.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},$.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},$.keys=function(e){if(!$.isObject(e))return[];if(k)return k(e);var t=[];for(var n in e)$.has(e,n)&&t.push(n);return t},$.values=function(e){for(var t=$.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},$.pairs=function(e){for(var t=$.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},$.invert=function(e){for(var t={},n=$.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},$.functions=$.methods=function(e){var t=[];for(var n in e)$.isFunction(e[n])&&t.push(n);return t.sort()},$.extend=function(e){return S(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},$.pick=function(e){var t={},n=c.apply(s,u.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},$.omit=function(e){var t={},n=c.apply(s,u.call(arguments,1));for(var i in e)$.contains(n,i)||(t[i]=e[i]);return t},$.defaults=function(e){return S(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},$.clone=function(e){return $.isObject(e)?$.isArray(e)?e.slice():$.extend({},e):e},$.tap=function(e,t){return t(e),e};var A=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof $&&(e=e._wrapped),t instanceof $&&(t=t._wrapped);var r=d.call(e);if(r!=d.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;var a=e.constructor,o=t.constructor;if(a!==o&&!($.isFunction(a)&&a instanceof a&&$.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=A(e[l],t[l],n,i)););}else{for(var c in e)if($.has(e,c)&&(l++,!(u=$.has(t,c)&&A(e[c],t[c],n,i))))break;if(u){for(c in t)if($.has(t,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};$.isEqual=function(e,t){return A(e,t,[],[])},$.isEmpty=function(e){if(null==e)return!0;if($.isArray(e)||$.isString(e))return 0===e.length;for(var t in e)if($.has(e,t))return!1;return!0},$.isElement=function(e){return!(!e||1!==e.nodeType)},$.isArray=w||function(e){return"[object Array]"==d.call(e)},$.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){$["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),$.isArguments(arguments)||($.isArguments=function(e){return!(!e||!$.has(e,"callee"))}),"function"!=typeof/./&&($.isFunction=function(e){return"function"==typeof e}),$.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},$.isNaN=function(e){return $.isNumber(e)&&e!=+e},$.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},$.isNull=function(e){return null===e},$.isUndefined=function(e){return void 0===e},$.has=function(e,t){return f.call(e,t)},$.noConflict=function(){return n._=i,this},$.identity=function(e){return e},$.constant=function(e){return function(){return e}},$.property=function(e){return function(t){return t[e]}},$.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},$.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},$.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},$.now=Date.now||function(){return(new Date).getTime()};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=$.invert(B.escape);var O={escape:new RegExp("["+$.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+$.keys(B.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(e){$[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return B[e][t]})}}),$.result=function(e,t){if(null==e)return void 0;var n=e[t];return $.isFunction(n)?n.call(e):n},$.mixin=function(e){S($.functions(e),function(t){var n=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),R.call(this,n.apply($,e))}})};var M=0;$.uniqueId=function(e){var t=++M+"";return e?e+t:t},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(e,t,n){var i;n=$.defaults({},n,$.templateSettings);var r=new RegExp([(n.escape||z).source,(n.interpolate||z).source,(n.evaluate||z).source].join("|")+"|$","g"),s=0,a="__p+='";e.replace(r,function(t,n,i,r,o){return a+=e.slice(s,o).replace(N,function(e){return"\\"+j[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return i(t,$);var l=function(e){return i.call(this,e,$)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},$.chain=function(e){return $(e).chain()};var R=function(e){return this._chain?$(e).chain():e};$.mixin($),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];$.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),S(["concat","join","slice"],function(e){var t=s[e];$.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return $}),window._=$}).call(this)}(t.exports,t,e);e.__modules__.b3bc23d0=t.exports}(this),function(e){var t={id:"b3bc4ae0",exports:{}};e.__modules__||(e.__modules__={});!function(){Handlebars.registerHelper("range",function(e,t){for(var n="",i=0;e>i;i++)n+=t.fn();return n})}(t.exports,t,e);e.__modules__.b3bc4ae0=t.exports}(this),function(e){var t={id:"b3bc4ae1",exports:{}};e.__modules__||(e.__modules__={});!function(){!function(e){var t=function(e,t){var n,i=this;n=e&&_.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},_.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&_.extend(n.prototype,e),_.extend(n.prototype,{"super":i.prototype}),n},n=function(e){e||(e={});for(var t={},n={},i=this.super,r={},s={};i;)_.extend(n,i.config),_.extend(s,i.listeners),i=i.super;_.extend(t,n,this.config),_.extend(r,s,this.listeners,e.listeners);var a=_.keys(t);t=_.defaults(_.pick(e,a),t),e=_.omit(e,a),e.config=t,e.listeners=r,this.options=e,this.initial.call(this,e)};_.extend(n.prototype,{fid:0,config:{},events:{},listeners:{},initial:function(){},set:function(e,t){if(_.isObject(e)&&!t)for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n]);else if(_.isString(e)){var i,r,s=_.result(this.options,"config");"undefined"!=typeof s[e]&&(_.isFunction(t)&&(t=t.call(null)),r=s[e],this.options.config[e]=t,i=this.options.listeners[e+"Changed"]||this.events[e+"changed"],_.isFunction(i)&&!1===i.apply(this,[t,r])&&(this.options.config[e]=r))}},get:function(e){var t=this.options.config[e];return _.isFunction(t)&&(t=t.call(this)),t},trigger:function(e,t){e=this.options.listeners[e],_.isFunction(e)&&e.apply(this,t)}}),n.extend=t,e.FClass=e.F=n,e.log=console.log}(window)}(t.exports,t,e);e.__modules__.b3bc4ae1=t.exports}(this),function(e){var t={id:"b3bc71f0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){var n=/^(\S+)\s*(.*)$/;window.Fui=t.exports=FClass.extend({el:null,$el:null,tagName:"div",config:null,model:null,collection:null,attributes:null,css:null,className:null,events:{},initialize:function(){},initial:function(e){this.cid=_.uniqueId("fui"),_.extend(this.events,e.events||{}),_.extend(this,_.omit(e,["events"])),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},render:function(){},callParent:function(e){_.isString(e)||(e="render");var t=this.super[e];return _.isFunction(t)&&(t=t.call(this)),t},show:function(){this.$el.show()},hide:function(){this.$el.hide()},refresh:null,remove:function(){return this.$el.remove(),this.stopListening(),this.onRemove(),this},onRemove:function(){},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},delegateEvents:function(e){if(!e&&!(e=_.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(_.isFunction(i)||(i=this[e[t]]),i){var r=t.match(n),s=r[1],a=r[2];i=_.bind(i,this),s+=".delegateEvents"+this.cid,""===a?this.$el.on(s,i):this.$el.on(s,a,i)}}return this},setElement:function(e,t){this.$el&&this.undelegateEvents(),this.$el=e instanceof $?e:$(e),this.el=this.$el[0];var n=_.extend({},_.result(this,"attributes")),i=_.extend({},_.result(this,"css"));this.id&&(n.id=_.result(this,"id"));var r=_.result(this,"className");return _.isFunction(r)&&(r=r.apply(this)),_.isArray(r)&&(r=r.join(" ")),this.$el.attr(n).css(i).addClass(r),t!==!1&&this.delegateEvents(),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var e=$("<"+_.result(this,"tagName")+">");this.setElement(e,!1)}},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var s in i)e=i[s],e.off(t,n,this),(r||_.isEmpty(e._events))&&delete this._listeningTo[s];return this}},{emptyFunc:function(){},deviceType:function(){var e=this.WIN_W;return 640>e?1:960>e?2:1280>e?3:4},getLocationParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},isM:function(){return 1==this.deviceType()},WIN_W:$(window).width(),WIN_H:$(window).height(),SCROLL_TOP:function(){return $(document).scrollTop()},Msg:function(e,t){t=t||"info",console.log("["+t+"] "+e)}})}(t.exports,t,e);e.__modules__.b3bc71f0=t.exports}(this),function(e){var t={id:"b3bdaa70",exports:{}};e.__modules__||(e.__modules__={});!function(){var e={ua:navigator.userAgent,andrioid_version:100,isAndroid:!1,init:function(){this.OS=this.searchString(this.dataOS())||"an unknown OS",this.Browser=this.searchBrowser(this.dataB()),this.mobile="iPhone"==this.OS||"iPad"==this.OS||"Android"==this.OS||"Winphone"==this.OS?!0:!1,/Android (\d+\.\d+)/.test(navigator.userAgent)&&(this.andrioid_version=RegExp.$1,this.isAndroid=!0)},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;if(n&&-1!=n.indexOf(e[t].forSearch))return e[t].forShow}},searchBrowser:function(e){for(var t="",n=0;n<e.length;n++){var i=e[n].string;i&&-1!=i.indexOf(e[n].forSearch)&&(t+=e[n].forShow+"|")}return t},dataOS:function(){return[{string:navigator.platform,forSearch:"Win",forShow:"Windows"},{string:navigator.platform,forSearch:"Mac",forShow:"Mac"},{string:this.ua,forSearch:"iPhone",forShow:"iPhone"},{string:this.ua,forSearch:"iPad",forShow:"iPad"},{string:this.ua,forSearch:"Android",forShow:"Android"},{string:this.ua,forSearch:"Windows Phone",forShow:"Winphone"}]},dataB:function(){return[{string:this.ua,forSearch:"360browser",forShow:"360"},{string:this.ua,forSearch:"Maxthon",forShow:"Maxthon"},{string:this.ua,forSearch:"UCBrowser",forShow:"uc"},{string:this.ua,forSearch:"Oupeng",forShow:"opera"},{string:this.ua,forSearch:"Opera",forShow:"opera"},{string:this.ua,forSearch:"Sogou",forShow:"sogou"},{string:this.ua,forSearch:"baidu",forShow:"baidu"},{string:this.ua,forSearch:"Safari",forShow:"safari"},{string:this.ua,forSearch:"MicroMessenger",forShow:"weixin"},{string:this.ua,forSearch:"QQ/",forShow:"qq"},{string:this.ua,forSearch:"Weibo",forShow:"weibo"},{string:this.ua,forSearch:"MQBrowser",forShow:"360"},{string:this.ua,forSearch:"MQQBrowser",forShow:"qqbrowser"},{string:this.ua,forSearch:"CriOS",forShow:"Maxthon"}]}};e.init(),Fui.client=e}(t.exports,t,e);e.__modules__.b3bdaa70=t.exports}(this),function(e){var t={id:"b3bf0a00",exports:{}};e.__modules__||(e.__modules__={});!function(){var e=Fui.Event=function(e){this.options=_.defaults(e,{iscroll:!1}),this.bindEvents()};e.prototype={_event_start:!1,_event_start_p:{x:0,y:0,ts:0},_event_cur_p:{x:0,y:0,ts:0},_event_cur_dis:{x:0,y:0},_event_del_p:{x:0,y:0,ts:0},_event_cur_speed:{x:0,y:0},gesture:null,startGesture:null,unbindEvents:function(){var e=this.options.hoster;e.$el.undelegate("."+e.cid),delete this},getAngle:function(e,t){var n=180*Math.atan(Math.abs(t/e))/Math.PI;return 0>e&&(n=180-n),t>0&&(n=-n),n},getCurAngle:function(){var e,t=this,n=t._event_del_p;return e=180*Math.atan(-n.y/n.x)/Math.PI,n.x<0&&(e+=90),e},checkOrientGesture:function(e){return"x"==e&&/^left|right/.test(this.startGesture)||"y"==e&&/^up|down/.test(this.startGesture)},bindEvents:function(){function e(){f._event_cur_speed={x:0,y:0},f._event_cur_dis={x:0,y:0}}function t(){var e=getComputedStyle(m[0],null).webkitTransform;if(!/^matrix/.test(e))return 0;var t=/matrix\(([\d\,\.\-\s]*)\)/g.exec(e)[1];return t.split(",")}function n(n){var i=n.originalEvent.touches?n.originalEvent.touches[0]:n.originalEvent;if(f._event_start=!0,s=f._event_start_p=f._event_cur_p=l=o={x:i.clientX,y:i.clientY,ts:Date.now()},e(),k=!0,v){var r=t(),a=f._event_start_dis={x:r[4]<<0,y:r[5]<<0};m.css({webkitTransform:"translate("+a.x+"px,"+a.y+"px) translateZ(0) scale(1)",webkitTransitionDuration:"0"})}f.gesture=null,f.startGesture=null,_.isFunction(p._onstart)&&p._onstart(n)}function i(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;k&&(F=!0),a=f._event_cur_p={x:t.clientX,y:t.clientY,ts:Date.now()},l=o,o=a;var n=f._event_cur_dis={x:a.x-s.x,y:a.y-s.y};if(null==f.startGesture&&(Math.abs(n.x)>10||Math.abs(n.y)>10)){var i=f.getAngle(n.x,n.y),r=f._event_cur_speed;Math.abs(i)<=30||Math.abs(i)>=150?(r.x>0&&(f.startGesture="rightSwipe"),r.x<0&&(f.startGesture="leftSwipe")):(r.y>0&&(f.startGesture="downSwipe"),r.y<0&&(f.startGesture="upSwipe"))}if(v&&f.startGesture){var h={};if(x=b&&("upSwipe"==f.startGesture||"downSwipe"==f.startGesture),w=y&&("leftSwipe"==f.startGesture||"rightSwipe"==f.startGesture),x||w){if(b){var g=f._event_start_dis.y+n.y;h="translate(0,"+g+"px) translateZ(0) scale(1)"}else h="translate("+(f._event_start_dis.x+n.x)+"px,0) translateZ(0) scale(1)";m.css({webkitTransform:h,webkitTransition:"-webkit-transform 0ms cubic-bezier(0.33,0.66,0.66,1)"})}}o.ts-l.ts>5&&(u=o.x-l.x,c=o.y-l.y,d=o.ts-l.ts,f._event_del_p={x:u,y:c,ts:d},f._event_cur_speed={x:u/d,y:c/d},_.isFunction(p._onmove)&&p._onmove(e))}function r(n){function i(){var e=t()[5];e>0&&(e=0),o>e&&(e=o),m.css({webkitTransform:"translate(0,"+e+"px) translateZ(0) scale(1)",webkitTransition:"-webkit-transform 150ms cubic-bezier(0.33,0.66,0.66,1)"})}var r=f._event_cur_dis.x,s=f._event_cur_dis.y,a=(f.gesture,g.height()),o=a-m.height(),l=g.width();if(Math.abs(r)>10||Math.abs(s)>10){var u=f.getAngle(r,s),c=f._event_cur_speed;Math.abs(u)<=30||Math.abs(u)>=150?(Math.abs(c.x)>.5||Math.abs(r)>l/2)&&(c.x>0&&(f.gesture="rightSwipe"),c.x<0&&(f.gesture="leftSwipe")):(Math.abs(c.y)>.5||Math.abs(s)>a/2)&&(c.y>0&&(f.gesture="downSwipe"),c.y<0&&(f.gesture="upSwipe"))}else f.gesture="tap",k&&!F&&("input"==n.target.tagName.toLowerCase()?n.target.focus():_.isFunction(p._ontap)&&p._ontap(n));p.onGesture(f.gesture,$(n.target),n),_.isFunction(p._onend)&&p._onend(n),k=!1,F=!1;var d=f._event_cur_speed[v];if(v)if(Math.abs(d)>.1){var h="",b=t(),y=(b[5]<<0)+150*Math.round(d);y>0&&(y/=2),o>y&&(y=(o-y)/2+y),(x||w)&&("y"==v&&(h="translate(0,"+y+"px) translateZ(0) scale(1)"),m.css({webkitTransform:h,webkitTransition:"-webkit-transform 300ms cubic-bezier(0.33,0.66,0.66,1)"}).one("webkitTransitionEnd",i))}else i();e()}var s,a,o,l,u,c,d,f=this,p=this.options.hoster,h=p.cid,g=p.$el,m=g.children().first(),v=m.length?f.options.iscroll:!1,b="y"==v,x=!1,y="x"==v,w=!1,k=!1,F=!1;v&&m.css({webkitTransform:"translate(0,0) translateZ(0) scale(1)",webkitTransition:"-webkit-transform 0ms cubic-bezier(0.33,0.66,0.66,1)",webkitTransformOrigin:"0px 0px"});var S=!1;g.on("touchstart."+h,n).on("touchmove."+h,i).on("touchend."+h,r).on("mousedown."+h,function(e){S=!0,n(e)}).on("mousemove."+h,function(e){S&&i(e)}).on("mouseup."+h,function(e){S&&(r(e),S=!1)}).on("mouseout."+h,function(e){S&&(r(e),S=!1)})}}}(t.exports,t,e);e.__modules__.b3bf0a00=t.exports}(this),function(e){var t={id:"b3bbd5b1",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3bc23d0,n.__modules__.b3bc4ae0,n.__modules__.b3bc4ae1,n.__modules__.b3bc71f0,n.__modules__.b3bdaa70,n.__modules__.b3bf0a00}(t.exports,t,e);e.__modules__.b3bbd5b1=t.exports}(this),function(e){var t={id:"b3c04280",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Weixin=FClass.extend({config:{title:null,desc:null,link:String(window.location.href),appid:"",img_url:null,img_width:200,img_height:200},initial:function(){var e=this;document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{appid:"",img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title")},function(){})}),WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title")},function(t){switch(t.err_msg){case"share:timeline:ok":e.trigger("timeline",[!0]);break;case"share:timeline:cancel":e.trigger("timeline",[!1])}})})},!1)}})}(t.exports,t,e);e.__modules__.b3c04280=t.exports}(this),function(e){var t={id:"b3c090a0",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Button=Fui.extend({tagName:"button",config:{type:"default",text:"button",action:null,size:null},initialize:function(){this.render()},attributes:{type:"button"},className:function(){this.get("size");return["btn",this.getCls(this.get("type")),this.getCls(this.get("size"))]},getCls:function(e){return e?"btn-"+e:""},render:function(){this.$el.text(this.get("text"))},onClick:Fui.emptyFunc,listeners:{tap:null},events:{click:function(e){this.trigger("tap",[e]),e.stopPropagation()},typechanged:function(e,t){this.$el.removeClass(this.getCls(t)),this.$el.addClass(this.className())},textchanged:function(e){this.$el.text(e)}}})}(t.exports,t,e);e.__modules__.b3c090a0=t.exports}(this),function(e){var t={id:"b3c1a210",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<h3 class="fui-form-title">{{title}}</h3><ul class="fui-form-ele-list" data-fui-key="ele-list">    {{#range lines}}    <li class="fui-form-line"></li>    {{/range}}</ul>'}(t.exports,t,e);e.__modules__.b3c1a210=t.exports}(this),function(e){var t={id:"b3c090a1",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form=Fui.extend({className:function(){return["fui-form","fui-form-"+this.get("size")]},config:{title:"Form",size:"normal",tpl:n.__modules__.b3c1a210,grid:1,actions:null,items:[]},listeners:{submit:null},itemsMap:{},initialize:function(e){this.options=e,this.render()},setData:function(e,t){var n=this,i=this.get("items");_.isObject(e)&&"undefined"==typeof t?_.each(e,function(e,t){n.setData(t,e)}):_.each(i,function(n){n.get("name")==e&&n.set("value",t)})},getData:function(){var e=this.get("items"),t={};return _.each(e,function(e){if(_.isFunction(e.getData)){var n=e.getData();n&&(t[n.name]=n.value)}}),t},upload:function(e){var t=this,n=t.get("items"),i=0,r=0;_.each(n,function(e){e.upload&&i++}),_.each(n,function(t){t.upload&&t.upload(function(t){return t?void(++r==i&&e(!0)):e(!1)})})},getItem:function(e){for(var t=this,n=t.get("items"),i=0,r=n.length;r>i;i++)if(e==n[i].get("name"))return n[i]},validate:function(e){function t(t){t&&r++,++s==a&&e(r==a)}var n=this,i=n.get("items"),r=0,s=0,a=i.length;_.each(i,function(e){_.isFunction(e.validate)?e.validate(t):e.noValidate?t(!0):console.log("FormItem has no validate :",e)})},_submit:function(){var e=this;this.validate(function(t){t?e.trigger("submit",[e.getData()]):0})},render:function(){var e=this,t=e.$el,n=e.get("items"),i=Handlebars.compile(e.get("tpl"));if(!_.isArray(n))return error("Form need an array[Form.Element] for items");var r=0,s=e.get("grid");_.each(n,function(e){isNaN(e.grid)&&(e.grid=s),r+=e.grid}),t.html(i({title:e.get("title"),lines:Math.floor(r/s)})),r=0;var a=t.find("[data-fui-key=ele-list]"),o=a.children("li");_.each(n,function(t,i){var a=t.type;switch(t.type){case"Submit":t.listeners={tap:function(){e._submit()}};break;case"Cancel":t.listeners={tap:function(){e.trigger("cancel")}}}isNaN(t.grid)&&(t.grid=s);var l=Fui.Form[a],u=null;delete t.type,_.isFunction(l)&&(u=new l(t),n.splice(i,1,u),o.eq(Math.floor(r)).append(u.$el),r+=t.grid,t.grid<s&&u.$el.addClass("inline").css({width:100*t.grid/s+"%"}))});var l=e.get("actions");if(l){if(_.isFunction(l.submit)){var u=new Fui.Button({type:"primary",text:"提交",listeners:{tap:function(){_.isFunction(l.submit)&&l.submit.call(e)}}});o.last().append(u.$el)}if(_.isFunction(l.cancel)){var c=new Fui.Button({text:"取消",listeners:{tap:function(){_.isFunction(l.cancel)&&l.cancel.call(e)}}});o.last().append(c.$el)}}},events:{click:function(e){e.stopPropagation()}}})}(t.exports,t,e);e.__modules__.b3c090a1=t.exports}(this),function(e){var t={id:"b3c1a211",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Element=Fui.extend({className:"fui-form-ele",config:{name:null,value:null,label:null,grid:0},initialize:function(){},getData:function(){return null},validate:function(e){e(!0)}})}(t.exports,t,e);e.__modules__.b3c1a211=t.exports}(this),function(e){var t={id:"b3c1f030",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-text">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <label class="fui-form-field">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{else}}                <span class="input-icon-null"></span>                {{/if}}                <span class="input-wrapper">                    <input type="{{type}}" placeholder="{{placeHolder}}"/>                </span>                <span class="fui-form-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c1f030=t.exports}(this),function(e){var t={id:"b3c1c920",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Text=Fui.Form.Element.extend({config:{type:"text",label:null,icon:null,textAlign:"left",fieldLabel:null,tpl:n.__modules__.b3c1f030,placeHolder:"",value:null,focusCls:"focus"},initialize:function(){var e=this,t=e.get("label"),n=e.get("placeHolder"),i=Handlebars.compile(e.get("tpl")),r=e.get("value");e.$el.html(i({type:e.get("type"),label:t,icon:e.get("icon"),placeHolder:n,fieldLabel:e.get("fieldLabel")}));
var s=e.$input=e.$el.find("input");s.css({textAlign:e.get("textAlign")}),e.$field=e.$el.find(".fui-form-field"),e.$err_msg=e.$el.find(".fui-form-ele-error-msg"),null!=r&&"undefined"!=typeof r&&s.val(r),_.isFunction(this.render)&&this.render()},setErrorMsg:function(e){e?(this.$field.addClass("error"),this.$err_msg.text(e)):(this.$field.removeClass("error"),this.$err_msg.text(""))},listeners:{valueChanged:function(e){this.trigger("change",[e])},change:null},events:{"focus input":function(){this.$field.addClass(this.get("focusCls"))},"input input":function(){this.set("value",this.$input.val())},"blur input":function(){var e=this;this.$field.removeClass(this.get("focusCls")),this.validate(function(t,n){t?(e.$field.removeClass("error"),e.$err_msg.text("")):(e.$field.addClass("error"),e.$err_msg.text(n))})}},getData:function(){return{name:this.get("name"),value:this.get("value")}}})}(t.exports,t,e);e.__modules__.b3c1c920=t.exports}(this),function(e){var t={id:"b3c1f031",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Mail=Fui.Form.Text.extend({config:{icon:"mail2",placeHolder:"邮箱"},validateUsed:function(e){e(!0)},validate:function(e){/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(this.get("value"))?this.validateUsed(e):(this.setErrorMsg("邮箱格式不正确"),e(!1))}})}(t.exports,t,e);e.__modules__.b3c1f031=t.exports}(this),function(e){var t={id:"b3c21740",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Password=Fui.Form.Text.extend({ftype:"Fui.Form.Password",config:{type:"password",placeHolder:"密码",icon:"key"},validate:function(e){var t=this.get("value"),n="";!t||t.length<6?(n="密码至少6位",e(!1)):e(!0),this.setErrorMsg(n)}})}(t.exports,t,e);e.__modules__.b3c21740=t.exports}(this),function(e){var t={id:"b3c21741",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Button=Fui.Button.extend({noValidate:!0,css:{marginBottom:20},config:{type:"primary"}})}(t.exports,t,e);e.__modules__.b3c21741=t.exports}(this),function(e){var t={id:"b3c23e50",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Submit=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button ")},noValidate:!0,config:{type:"primary"}})}(t.exports,t,e);e.__modules__.b3c23e50=t.exports}(this),function(e){var t={id:"b3c26560",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Form.Cancel=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button")},noValidate:!0,config:{}})}(t.exports,t,e);e.__modules__.b3c26560=t.exports}(this),function(e){var t={id:"b3c26562",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-image-picker">    <!--<div class="left">-->        <!--<label>{{label}}</label>-->    <!--</div>-->    <!--<div class="right">-->        <!--<input type="file" accept="image/*"/>-->    <!--</div>-->    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->        <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <input type="file" accept="image/*"/>            <!--<input type="text" style="display: none;"/>-->        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c26562=t.exports}(this),function(e){var t={id:"b3c26561",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.ImagePicker=Fui.Form.Element.extend({config:{label:"Image Picker",file:null,tpl:n.__modules__.b3c26562},initialize1:function(){this.render()},initialize:function(){var e=this,t=e.get("label"),n=e.$el,i=Handlebars.compile(e.get("tpl"));e.$el.html(i({label:t})),e.$desc=n.find(".fui-form-ele-description");var r=e.$el.find(".right"),s=e.$input=e.$el.find("input[type=file]");e.$hidden=n.find("input[type=hidden]"),s.hide();var a=e.selBtn=new Fui.Button({type:"primary",size:"xs",text:"选择图片",listeners:{tap:function(){s[0].click()}}}),o=e.clearBtn=new Fui.Button({type:"default",size:"xs",text:"清除",listeners:{tap:function(){e.$input.val(""),e.set("value",null),this.hide(),a.set("text","选择图片"),e.trigger("clear")}}});o.hide(),r.append(a.$el),r.append(o.$el);var l=e.get("value");l&&setTimeout(function(){e.set("value",l)},10)},getData:function(){return{name:this.get("name"),value:this.get("value")}},upload:function(e){var t=this,n=t.get("file");return n?void new Fui.FileUpload({file:n,listeners:{end:function(n){console.log("upload ",t.get("name"),n," end"),t.set("value",n),e(!0)},error:function(){e(!1)}}}):e(!0)},setImg:function(e){var t=this;t.trigger("change",[e]),e?(t.selBtn.set({text:"重新选择"}),t.clearBtn.show()):(t.selBtn.set({text:"选择图片"}),t.clearBtn.hide())},listeners:{valueChanged:function(e){this.set("file",null),this.setImg(e)},change:null,clear:null,focus:function(){this.$input[0].click()}},events:{"blur input[type=file]":function(){console.log(arguments)},"change input[type=file]":function(e){var t=this,n=e.target.files[0];if(n){var i=URL.createObjectURL(n),r=new Image;r.src=i,r.onload=function(){t.set("value",this.src),t.set("file",n)}}}}})}(t.exports,t,e);e.__modules__.b3c26561=t.exports}(this),function(e){var t={id:"b3c34fc0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-image-list-picker">    <label class="fui-form-ele-label">图片列表</label>    <div class="fui-form-ele-container">        <div class="right">            <div class="image-list"></div>            <div class="image-tools"></div>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c34fc0=t.exports}(this),function(e){var t={id:"b3c28c70",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.ImageListPicker=Fui.Form.Element.extend({config:{listTpl:n.__modules__.b3c34fc0,value:[],items:[]},listeners:{valueChanged:function(e){var t=this;_.isArray(e)||(e=[e]),this.clearAll(),_.each(e,function(e){t.addItem(e)})},change:null},clearAll:function(){var e=this.get("items");_.each(e,function(e){e.trigger("clear")})},upload:function(e){var t=this,n=t.get("items"),i=n.length,r=0;_.each(n,function(t){t.upload(function(t){return t?void(++r==i&&e(!0)):e(!1)})})},getData:function(){var e=this;return{name:e.get("name"),value:e.get("value")}},addItem:function(e){var t=this,n=t.get("items"),i=new Fui.Form.ImagePicker({label:null,value:e,listeners:{change:function(e){t.trigger("change",[e,this.index]),t.get("value").splice(this.index,1,e)},clear:function(){t.trigger("itemRemove",[this.index]),t.get("value").splice(this.index,1),n.splice(this.index,1),this.remove()}}});i.index=n.length,i.trigger("focus"),t.$list.append(i.$el),n.push(i)},initialize:function(){var e=this,t=e.$el,n=(e.get("items"),Handlebars.compile(e.get("listTpl"))),i=e.$imageList=$(n());t.append(i);var r=i.find(".image-tools"),s=(e.$list=i.find(".image-list"),new Fui.Button({type:"green",size:"xs",text:"添加图片",listeners:{tap:function(){e.addItem()}}}));r.append(s.$el)}})}(t.exports,t,e);e.__modules__.b3c28c70=t.exports}(this),function(e){var t={id:"b3c376d1",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-ele fui-form-select">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <a href="#" class="holder" data-fui-key="sel-holder"></a>            <ul class="sel-list" data-fui-key="sel-list">                {{#each data}}                <li class="sel">                    <a href="#" data-value="{{value}}">{{text}}</a>                </li>                {{/each}}            </ul>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c376d1=t.exports}(this),function(e){var t={id:"b3c376d0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Select=Fui.Form.Element.extend({config:{value:null,label:"Select : ",data:[],tpl:n.__modules__.b3c376d1},initialize:function(){this.render()},render:function(){var e=this,t=e.get("label"),n=e.get("data"),i=Handlebars.compile(e.get("tpl"));e.$el.html(i({label:t,data:n})),e.$list=e.$el.find("[data-fui-key=sel-list]"),e.$holder=e.$el.find("[data-fui-key=sel-holder]"),_.each(n,function(t){t.checked===!0&&e.set("value",t.value)})},openSelList:function(){this.$list.show(),this.$holder.addClass("on")},closeSelList:function(){this.$list.hide(),this.$holder.removeClass("on")},getData:function(){return{name:this.get("name"),value:this.get("value")}},onSelChange:Fui.emptyFunc,listeners:{change:Fui.emptyFunc,valueChanged:function(e,t){var n=this;_.each(this.get("data"),function(i){return i.value==e?(n.$holder.text(i.text),n.trigger("change",[e,t]),!1):void 0})}},events:{"click [data-fui-key=sel-holder]":function(){this.$holder.hasClass("on")?this.closeSelList():this.openSelList()},"click [data-fui-key=sel-list]>li>a":function(e){this.set("value",$(e.target).attr("data-value")),this.closeSelList()}}})}(t.exports,t,e);e.__modules__.b3c376d0=t.exports}(this),function(e){var t={id:"b3c3c4f0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-checkbox">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <button class="fui-form-field">                <span class="fui-form-checkbox-icon">                    <span data-form-checkbox-checkmark class="fui-form-checkbox-checkmark icon"></span>                </span>                <span class="fui-form-checkbox-text">{{text}}</span>            </button>        </div>    </div></div>'}(t.exports,t,e);e.__modules__.b3c3c4f0=t.exports}(this),function(e){var t={id:"b3c39de0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.CheckBox=Fui.Form.Element.extend({config:{checked:!1,text:null,tpl:n.__modules__.b3c3c4f0},listeners:{change:null,checkedChanged:function(e){var t=this.$checkmark;e?t.addClass("icon-checkmark"):t.removeClass("icon-checkmark"),this.set("value",e),this.trigger("change")}},events:{"click button":function(){this.set("checked",!this.get("checked"))}},initialize:function(){var e=this,t=e.get("text"),n=e.$el,i=e.get("label"),r=Handlebars.compile(e.get("tpl")),s=e.get("checked");e.$el.html(r({text:t,checked:s,label:i})),e.$checkmark=n.find("[data-form-checkbox-checkmark]"),setTimeout(function(){e.set("checked",s)},10)}})}(t.exports,t,e);e.__modules__.b3c39de0=t.exports}(this),function(e){var t={id:"b3c41310",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-link">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            <a href="{{link}}" target="{{target}}" class="fui-form-link-a">{{text}}</a>        </div>    </div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c41310=t.exports}(this),function(e){var t={id:"b3c3ec00",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.Link=Fui.Form.Element.extend({config:{link:null,text:null,textAlign:"left",target:"_blank",tpl:n.__modules__.b3c41310},listeners:{},events:{"click button":function(){this.set("checked",!this.get("checked"))}},initialize:function(){var e=this,t=e.get("text"),n=(e.$el,e.get("label")),i=e.get("link"),r=Handlebars.compile(e.get("tpl"));e.$el.html(r({target:e.get("target"),text:t,label:n,link:i})),e.$el.find("[data-form-link-a]").css({textAlign:e.get("textAlign")})}})}(t.exports,t,e);e.__modules__.b3c3ec00=t.exports}(this),function(e){var t={id:"b3c43a20",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="fui-form-link">    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            {{#if color}}            <a class="fui-form-string-a" style="color:{{color}};">{{text}}</a>            {{else}}            <a class="fui-form-string-a">{{text}}</a>            {{/if}}        </div>    </div>    <div class="fui-form-ele-error-msg"></div></div>'}(t.exports,t,e);e.__modules__.b3c43a20=t.exports}(this),function(e){var t={id:"b3c41311",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Form.String=Fui.Form.Element.extend({config:{text:null,color:null,textAlign:"left",tpl:n.__modules__.b3c43a20},listeners:{},initialize:function(){var e=this,t=e.get("text"),n=(e.$el,e.get("label")),i=(e.get("link"),Handlebars.compile(e.get("tpl")));e.$el.html(i({text:t,label:n})),e.$el.find("[data-form-string-a]").css({textAlign:e.get("textAlign")})}})}(t.exports,t,e);e.__modules__.b3c41311=t.exports}(this),function(e){var t={id:"b3c06990",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3c090a0,n.__modules__.b3c090a1,n.__modules__.b3c1a211,n.__modules__.b3c1c920,n.__modules__.b3c1f031,n.__modules__.b3c21740,n.__modules__.b3c21741,n.__modules__.b3c23e50,n.__modules__.b3c26560,n.__modules__.b3c26561,n.__modules__.b3c28c70,n.__modules__.b3c376d0,n.__modules__.b3c39de0,n.__modules__.b3c3ec00,n.__modules__.b3c41311}(t.exports,t,e);e.__modules__.b3c06990=t.exports}(this),function(e){var t={id:"b3c43a22",exports:{}};e.__modules__||(e.__modules__={});!function(){var e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!e)throw Error("No createObjectURL function found to create blob url");Fui.Template=Fui.extend({config:{template:null,tpl:null,pageIndex:0,bg:null},propsForm:null,save:function(){},getImgPath:function(e){return e},design:null,initialize:function(){var e=this,t=e.get("bg");this.renderBg(t),this.addTpl(),_.isFunction(this.design)&&this.design()},renderBg:function(e){e&&this.$el.css({backgroundImage:"url("+this.getImgPath(e)+")"})},clearBg:function(){this.$el.css({backgroundImage:"none"})},onFocus:function(){},onBlur:function(){},getTplData:function(){return{pageIndex:this.get("pageIndex")}},onGesture:function(){},checkSize:function(){return!0},validateInfo:function(e,t){var n=!0;return _.each(t,function(t){e.hasOwnProperty(t)||(error("Module must contain a ["+t+"] on [name: "+e.label+",label:"+e.name+"]"),n=!1)}),n},addTpl:function(){var e=this.get("tpl")||"";this.$el.append(Handlebars.compile(e)(this.getTplData()))},getData:function(){return _.extend({},{template:this.get("template")},this.getForm().getData())},form:null,getForm:function(){var e=this.get("pageIndex")+1;return this.form||(this.form=new Fui.Form({size:"normal",title:(1==e?"首":"第 "+e+" ")+"页属性",items:this.getFormItems()})),this.form},getFormItems:Fui.emptyFunc,getGestureItems:function(){return[]},getText:function(e){return this.validateInfo(e,["name","label","placeHolder"])?(e.type="text",e):void 0},getSelection:function(e){e.$el;if(this.validateInfo(e,["name","label","change","data"]))return e.type="select",e},getImagePicker:function(e){return this.getImage(e)},getImageListPicker:function(t){var n=this;if(this.validateInfo(t,["name","change"]))return{type:"image-list",name:t.name,listeners:{change:function(i,r){var s=i.target.files[0],a=e.createObjectURL(s),o=new Image;o.src=a,o.onload=function(){var e=this.naturalWidth,s=this.naturalHeight;return n.checkSize(e,s)?void t.change.call(o,i,r):void error("Image size must be 640 X 1010")}}}}},getImage:function(e){if(this.validateInfo(e,["name","label","change"])){return e.type="image",e}}})}(t.exports,t,e);e.__modules__.b3c43a22=t.exports}(this),function(e){var t={id:"b3c599b0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="base-foreground"></div>'}(t.exports,t,e);e.__modules__.b3c599b0=t.exports}(this),function(e){var t={id:"b3c4fd70",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Base=Fui.Template.extend({className:"module module-base",config:{tpl:n.__modules__.b3c599b0,fg:null},listeners:{fgChanged:function(e){this.renderFg(e)}},save:function(e){function t(){r++,2==r&&e(!0,n)}var n=this,i=this.getForm().getData(),r=0;_.each(i,function(i,r){new Fui.FileUpload({file:i,name:r,listeners:{end:function(e,i){n.getForm().setData(i,e),t()},error:function(){e(!1)}}})})},render:function(){var e=this,t=e.get("fg");this.renderFg(t)},renderFg:function(e){e&&this.$el.children(".base-foreground").css({backgroundImage:"url("+this.getImgPath(e)+")"})},clearFg:function(){this.$el.children(".base-foreground").css({backgroundImage:"none"})},getFormItems:function(){{var e=this;e.$el}return[{type:"ImagePicker",$el:this.$el,label:"背景图片：",name:"bg",listeners:{change:function(t){e.renderBg(t)},clear:function(){e.clearBg()}}},{type:"ImagePicker",$el:this.$el,label:"前景图片：",name:"fg",listeners:{change:function(t){e.renderFg(t)},clear:function(){e.clearFg()}}}]}})}(t.exports,t,e);e.__modules__.b3c4fd70=t.exports}(this),function(e){var t={id:"b3c79580",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<div class="video-play">    <a data-tap="page-{{pageIndex}}-video-play" class="play-icon icon icon-play3 white"></a>    <div class="play-bg"></div></div><div class="video-pack">    <a data-tap="page-{{pageIndex}}-video-close" class="close"></a>    <div id="page-{{pageIndex}}-video-player" class="i">    </div></div>'}(t.exports,t,e);e.__modules__.b3c79580=t.exports}(this),function(e){var t={id:"b3c599b1",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Video=Fui.Template.extend({className:"module module-video",config:{tpl:n.__modules__.b3c79580,videoPackCss:null,playBtnCss:null,closeBtnCss:null,platform:null,clientId:"3e9659d488a5a018",vid:null,width:640,whRatio:16/9},listeners:{play:function(){function e(){"undefined"!=typeof YKU&&(t.player=new YKU.Player("page-"+t.get("pageIndex")+"-video-player",{styleid:"0",client_id:t.get("clientId"),vid:t.get("vid"),autoplay:!0,show_related:!1,events:{onPlayerReady:function(){},onPlayStart:function(){},onPlayEnd:function(){t.player=null,t.trigger("close")}}}),setTimeout(function(){try{t.player.playVideo()}catch(e){}},10))}var t=this,n=t.get("platform");switch(this.$videoPack.addClass("show"),n){case"youku":e()}},close:function(){var e=this,t=e.get("platform");this.$videoPack.removeClass("show");try{switch(t){case"youku":e.player.pauseVideo()}}catch(n){}}},render:function(){var e=this,t=e.$videoPack=e.$el.children(".video-pack"),n=t.children(".i");t.css(e.get("videoPackCss")||{}),e.$el.find(".video-pack>.close").css(e.get("closeBtnCss")||{}),e.$el.find(".play-icon").css(e.get("playBtnCss")||{}),n.css({width:e.get("width"),height:e.get("width")/e.get("whRatio")})},getGestureItems:function(){var e=this;return[{gesture:"tap",name:"page-"+e.get("pageIndex")+"-video-play",callback:function(){e.trigger("play")},caller:e},{gesture:"tap",name:"page-"+e.get("pageIndex")+"-video-close",callback:function(){e.trigger("close")},caller:e}]},save:function(e){var t=this,n=t.getForm(),i=t.getData();new Fui.FileUpload({file:i.bg,name:"bg",listeners:{end:function(t,i){console.log(arguments),n.setData(i,t),e(!0)},error:function(){e(!1)}}})},getFormItems:function(){var e=this,t=this.$el;return[{type:"ImagePicker",label:"背景：",name:"bg",listeners:{change:function(e){t.css({backgroundImage:"url("+e+")"})},clear:function(){e.clearBg()}}},{type:"Select",label:"播放按钮样式：",data:[{text:"样式一",value:0,checked:!0},{text:"样式二",value:1},{text:"样式三",value:2}],name:"playIconStyle",listeners:{change:function(){}}},{type:"Select",label:"播放平台",name:"platform",data:[{text:"优酷",value:"youku",checked:!0},{text:"腾讯",value:"qq"}],listeners:{change:function(t){e.set("platform",t)}}},{type:"Text",label:"视频ID",name:"vid",placeHolder:"优酷视频的ID(vid)",listeners:{change:function(t){e.set("vid",t)}}}]}})}(t.exports,t,e);e.__modules__.b3c599b1=t.exports}(this),function(e){var t={id:"b3ca2d90",exports:{}};e.__modules__||(e.__modules__={});!function(e,t){t.exports='<a class="phtots-arrow photos-l-arrow"></a><a class="phtots-arrow photos-r-arrow"></a><div class="photos-pack">    {{#each imgList}}        <img class="normal" data-leftSwipe="page-{{../pageIndex}}-photos-item" data-rightSwipe="page-{{../pageIndex}}-photos-item" src="{{src}}"/>    {{/each}}</div>        {{#if withDesc}}<div class="desc-pack">    {{#each imgList}}    <p data-desc-index="page-{{../pageIndex}}-desc-item-{{@index}}">{{desc}}</p>    {{/each}}</div>        {{/if}}'}(t.exports,t,e);e.__modules__.b3ca2d90=t.exports}(this),function(e){var t={id:"b3c79581",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){Fui.Template.Photos=Fui.Template.extend({className:"module module-photos",config:{tpl:n.__modules__.b3ca2d90,data:null,withDesc:!0,index:0},onPopFlag:!0,render:function(){{var e=this,t=e.$el;e.$pack=t.children(".photos-pack"),e.get("data")||[]}if(e.get("withDesc")){var n=e.$descPack=t.children(".desc-pack");n.children("p").last().show().siblings("p").hide()}this.ensureTop3Rotate()},save:function(e){function t(){2==++s&&e(!0)}var n=this,i=n.getForm(),r=i.getData(),s=0;_.each(r,function(n,r){new Fui.FileUpload({file:n,name:r,listeners:{end:function(e,n){i.setData(n,e),t()},error:function(){e(!1)}}})})},onFocus:function(){var e=this;e.$pack.addClass("focus").one("webkitTransitionEnd",function(){e.$el.addClass("ani")})},onBlur:function(){this.$pack.removeClass("focus"),this.$el.removeClass("ani")},ensureTop3Rotate:function(){var e=this.$pack.children("img"),t=e.last();e.removeClass("pre1 pre2"),t.addClass("pre1").prev().addClass("pre2")},getTplData:function(){var e=this,t=e.get("data");return _.isFunction(t)&&(t=t.call(e),e.set("data",t)),{pageIndex:e.get("pageIndex"),imgList:t,withDesc:e.get("withDesc")}},pop:function(e){var t=this,n=t.$pack,i=n.children();if(t.onPopFlag){t.onPopFlag=!1;var r=i.last();if(r.addClass(e).one("webkitTransitionEnd",function(){n.prepend(r.removeClass(e)),t.ensureTop3Rotate(),t.onPopFlag=!0}),t.get("withDesc")){var s=t.$descPack.children("p");t.$descPack.addClass("hide").one("webkitTransitionEnd",function(){t.$descPack.prepend(s.last()),t.$descPack.children("p").last().show().siblings("p").hide(),t.$descPack.removeClass("hide")})}}},getGestureItems:function(){var e=this,t=e.get("pageIndex"),n=["page",t,"photos","item"].join("-");return[{gesture:"leftSwipe",name:n,callback:function(){e.pop("afterL")}},{gesture:"rightSwipe",name:n,callback:function(){e.pop("afterR")}}]},addImg:function(e,t){var n=this,i=n.$pack.children("img").eq(t);i.length>0?i.attr("src",e):n.$pack.append(Handlebars.compile('<img class="normal" data-form-image-list-item="{{index}}" data-leftSwipe="page-{{pageIndex}}-photos-item" data-rightSwipe="page-{{pageIndex}}-photos-item" src="{{src}}"/>')({index:t,src:e,pageIndex:n.get("pageIndex")})),this.ensureTop3Rotate()},removeImg:function(e){this.$pack.children("[data-form-image-list-item="+e+"]").remove(),this.ensureTop3Rotate()},getFormItems:function(){{var e=this;e.$pack}return[{type:"ImagePicker",name:"bg",label:"背景图片：",listeners:{change:function(t){e.renderBg(t)},clear:function(){e.clearBg()}}},{type:"ImageListPicker",name:"data",listeners:{change:function(t,n){e.addImg(t,n)},itemRemove:function(t){e.removeImg(t)}}}]}})}(t.exports,t,e);e.__modules__.b3c79581=t.exports}(this),function(e){var t={id:"b3c43a21",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3c43a22,n.__modules__.b3c4fd70,n.__modules__.b3c599b1,n.__modules__.b3c79581}(t.exports,t,e);e.__modules__.b3c43a21=t.exports}(this),function(e){var t={id:"b3d09630",exports:{}};e.__modules__||(e.__modules__={});!function(){Fui.Arrow=Fui.extend({tagName:"a",config:{orient:"bottom",color:"white",style:{}},initialize:function(){var e=this,t=e.get("orient"),n={position:"absolute",zIndex:1030,border:"2px solid "+e.get("color"),borderRight:0,borderBottom:0,width:36,height:36,webkitAnimation:e.get("orient")+"Arrow 2s linear infinite"},i={};switch(t){case"top":i={left:"50%",top:30,marginLeft:-18};break;case"left":i={top:"50%",left:30,marginTop:-18};break;case"right":i={top:"50%",right:30,marginTop:-18};break;case"bottom":i={left:"50%",bottom:30,marginLeft:-18}}_.extend(n,i,e.get("style")),this.$el.css(n)}})}(t.exports,t,e);e.__modules__.b3d09630=t.exports}(this),function(e){var t={id:"b3ca54a0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3d09630,Fui.PageSlider=Fui.Template.extend({className:function(){var e=this,t=e.get("orient");return["fui-pageSlider","x"==t?"x":""]},config:{slideType:null,pageNum:0,prePage:-1,curPage:-1,nextPage:0,lock:!1,data:null,toggleCls:"focus",pageWidth:640,arrow:"bottom",orient:"y"},data:null,_slide_flag:!1,listeners:{gesture:null},getPage:function(e){return this.get("data")[e]},getImgPath:function(e){return e},render:function(){var e=this,t=e.$el,n=e.$ul=$('<div class="c"></div>');t.append(n),this.event=new Fui.Event({hoster:this});var i=this.get("data");_.isArray(i)?(_.each(i,function(t,n){var r=Fui.Template[t.template];if(_.isFunction(r)){var s=$(e.getOnePageLI(n));e.$ul.append(s),t.pageIndex=n,t.el=s;var a=new r(t);a.render(),i.splice(n,1,a)}}),this.set("pageNum",i.length)):this.set("data",[]);var r=this.get("arrow");if(r){_.isString(r)&&(r={orient:r,without:[],css:{}});var s=this.arrow=new Fui.Arrow({orient:r.orient,style:r.style||{}});this.arrowWithout=_.isArray(r.without)?"-"+r.without.join("-")+"-":"",this.$el.append(s.$el)}e.ensureLayout()},onGesture:function(e,t,n){var i=this,r=i.get("data"),s=i.get("index"),a=[],o=null,l=t.attr("data-"+e)||"";l=l.split("@");for(var u=0,c=r.length;c>u;u++){o=r[u];var d=!1;o.getGestureItems&&(a=o.getGestureItems()||[]);for(var f=0,p=a.length;p>f;f++){var h=a[f];if(e==h.gesture&&h.name==l[0]&&_.isFunction(h.callback)){h.callback.call(r[u],n,t,l[1]),d=!0;break}}if(d)break}r[s]&&r[s]instanceof Fui.Template&&r[s].onGesture(n,e,t),i.trigger("gesture",[n,e,t])},onFocus:function(){this.get("data")[this.get("curPage")].onFocus()},onBlur:function(){this.get("data")[this.get("curPage")].onBlur()},_doTrans:function(e,t,n){function i(e){return e=e||"0px",/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==r?e:"0px"),"y"==r?e:"0px","0px)"].join(",")}var r=this.get("orient");"undefined"==typeof n&&(n=!0),e.css({webkitTransform:i(t),webkitTransition:n?"-webkit-transform .4s":"none"})},_transitionEnd:function(e,t){var n=this,i=n.$ul;e.one("webkitTransitionEnd",function(e){i.children().eq(t).addClass("focus").siblings("li").removeClass("focus");var r=n.get("data"),s=n.get("prePage"),a=r[t],o=r[s];a&&_.isFunction(a.onFocus)&&a.onFocus(),o&&o!=a&&_.isFunction(o.onBlur)&&o.onBlur(),n.onSlideEnd(t,e),n.ensureLayout(),n._slide_flag=!1})},toPage:function(e){var t=this,n=t.get("curPage"),i=t.get("pageNum"),r=t.$ul,s=(t.get("orient"),r.children());0>e&&(e=i-1),e>i-1&&(e=0),e>n?(t._doTrans(s.eq(e),"100%",!1),setTimeout(function(){t._doTrans(s.eq(n),"-100%"),t._doTrans(s.eq(e),"0px")},1)):(t._doTrans(s.eq(e),"-100%",!1),setTimeout(function(){t._doTrans(s.eq(n),"100%"),t._doTrans(s.eq(e),"0px")},1)),t.set("curPage",e),t.set("prePage",n),t._transitionEnd(s.eq(e),e)},slide:function(e){function t(){var t=s.eq(e);t.css({zIndex:1,opacity:1}).siblings().css({zIndex:0,opacity:0}),i._transitionEnd(t,e)}function n(){var t=i.event._event_cur_dis[l];switch(u){case"=":t>0?i._doTrans(i.$preLi,"-100%"):i._doTrans(i.$nextLi,"100%"),i._doTrans(i.$curLi,"0px");break;case"+":i._doTrans(i.$curLi,"-100%"),i._doTrans(i.$nextLi,"0px");break;case"-":i._doTrans(i.$curLi,"100%"),i._doTrans(i.$preLi,"0px")}i._transitionEnd(i.$curLi,e)}var i=this,r=i.$ul,s=r.children(),a=i.get("curPage"),o=i.get("pageNum"),l=i.get("orient"),u=e==a?"=":e>a?"+":"-",c=i.get("slideType");switch(0>e&&(e=o-1),e>o-1&&(e=0),e==a&&(u="="),this.arrow&&(this.arrow instanceof Fui&&this.arrowWithout.indexOf("-"+e+"-")>=0?this.arrow.hide():this.arrow.show()),i.set("prePage",i.get("curPage")),i.set("curPage",e),i._slide_flag=!0,setTimeout(function(){i._slide_flag=!1},400),c){case"fade":t();break;default:n()}},next:function(e){var t=this,n=t.get("curPage");t.slide(n+1,e)},prev:function(e){var t=this.get("curPage");this.slide(t-1,e)},ensure$LI:function(){var e=this,t=e.$ul.children(),n=e.get("curPage"),i=e.get("pageNum"),r=0>n-1?i-1:n-1,s=n+1>i-1?0:n+1;e.$curLi=t.eq(n),e.$preLi=t.eq(r),e.$nextLi=t.eq(s),e.ul_height=e.$ul.height(),e.ul_width=e.$ul.width()},ensureLayout:function(){function e(){i.css({webkitTransition:"opacity .4s ease"}),n.$curLi.css({opacity:1,zIndex:1}).siblings().css({opacity:0,zIndex:0})}function t(){var e=["translate3d(",o?"-100%,":"0px,",a?"-100%":"0px",",0px)"];i.css({webkitTransform:e.join(""),webkitTransition:"-webkit-transform 0s",zIndex:0}),n.$curLi.css({webkitTransform:"translate3d(0px,0px,0px)",webkitTransition:"-webkit-transform 0s",display:"block"})}var n=this,i=n.$ul.children(),r=n.get("orient"),s=n.get("slideType"),a="y"==r,o="x"==r;switch(n.ensure$LI(),s){case"fade":e();break;default:t()}},_onstart:function(e){function t(){}function n(){i.$ul.children().css({zIndex:0,display:"none"}),i.$curLi.css({display:"block"}),i.$preLi.css({zIndex:1}),i.$nextLi.css({zIndex:1})}var i=this,r=i.get("slideType");if(e.stopPropagation(),e.preventDefault(),!i._slide_flag)switch(r){case"fade":t();break;default:n()}},_onmove:function(e){function t(){}function n(){function e(e){return e=e||"0px",/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==s?e:"0px"),"y"==s?e:"0px","0px)"].join(",")}o>0?(i.$nextLi.css({webkitTransform:e("100%"),webkitTransition:"none",display:"none"}),i.$preLi.css({webkitTransform:e(o-a),webkitTransition:"none",display:"block"})):(i.$preLi.css({webkitTransform:e("-100%"),webkitTransition:"none",display:"none"}),i.$nextLi.css({webkitTransform:e(o+a),webkitTransition:"none",display:"block"})),i.$curLi.css({webkitTransform:e(o),webkitTransition:"none",display:"block"}),/^up|down/g.test(r.startGesture)}e.stopPropagation(),e.preventDefault();var i=this,r=i.event,s=i.get("orient"),a={x:i.ul_width,y:i.ul_height}[s],o=r._event_cur_dis[s],l=i.get("slideType");if(r.checkOrientGesture(s)&&!i._slide_flag)switch(l){case"fade":t();break;default:n()}},_onend:function(e){e.stopPropagation(),e.preventDefault();{var t=this,n=t.event,i=t.get("orient");t.get("slideType")}if(!n.checkOrientGesture(i))return t.slide(t.get("curPage"));if(!t._slide_flag&&!0!==t.get("lock")){if("y"==i)switch(n.gesture){case"upSwipe":t.next(e);break;case"downSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}if("x"==i)switch(n.gesture){case"leftSwipe":t.next(e);break;case"rightSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}}},getOnePageLI:function(e){return Handlebars.compile('<section class="p p{{index}}"></section>')({index:e})},insert:function(e,t){var n=this,i=n.$ul,r=n.get("pageNum")+1,s=n.get("data"),a=Fui.Template[e];if(0>t&&(t=0),t>r&&(t=r),!_.isFunction(a))return error(e+" is not loaded !"),!1;var o=$(n.getOnePageLI(t)),l=new a({pageIndex:t,template:e,el:o[0]});l.render(),0==t?i.prepend(o):o.insertAfter(i.children().eq(t-1));var u=s.slice(0,t),c=s.slice(t);return n.set("data",u.concat([l],c)),n.set("pageNum",r),n.ensureLayout(),l}})}(t.exports,t,e);e.__modules__.b3ca54a0=t.exports}(this),function(e){var t={id:"b3ca2d91",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3ca54a0}(t.exports,t,e);e.__modules__.b3ca2d91=t.exports}(this),function(e){var t={id:"b3bbd5b0",exports:{}};e.__modules__||(e.__modules__={});!function(e,t,n){n.__modules__.b3bbd5b1,n.__modules__.b3c04280,n.__modules__.b3c06990,n.__modules__.b3c43a21,n.__modules__.b3ca2d91}(t.exports,t,e);e.__modules__.b3bbd5b0=t.exports}(this);